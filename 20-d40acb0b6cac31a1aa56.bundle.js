(window.webpackJsonpwww=window.webpackJsonpwww||[]).push([[20],{1462:function(e,t,n){"use strict";var r=n(855);Object.defineProperty(t,"__esModule",{value:!0});var o={};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=r(n(1464));Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))})},1463:function(e,t,n){"use strict";var r=n(855),o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(36)),a=o(n(2)),l=(o(n(31)),r(n(1462))),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.breakpoint,r=void 0===n?"sm":n;return(0,l.default)()(function(e){return a.default.createElement(t,(0,i.default)({fullScreen:(0,l.isWidthDown)(r,e.width)},e))})}};t.default=u},1464:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isWidthDown=t.isWidthUp=void 0;var o=r(n(36)),i=r(n(39)),a=r(n(73)),l=r(n(74)),u=r(n(76)),c=r(n(77)),s=r(n(78)),d=r(n(2)),f=(r(n(31)),r(n(217))),p=r(n(373)),h=(n(61),r(n(539))),m=r(n(263)),v=n(859),g=r(n(860));t.isWidthUp=function(e,t){return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?v.keys.indexOf(e)<v.keys.indexOf(t):v.keys.indexOf(e)<=v.keys.indexOf(t)};t.isWidthDown=function(e,t){return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?v.keys.indexOf(t)<v.keys.indexOf(e):v.keys.indexOf(t)<=v.keys.indexOf(e)};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.withTheme,r=void 0!==n&&n,y=e.noSSR,b=void 0!==y&&y,O=e.initialWidth,k=e.resizeInterval,C=void 0===k?166:k,E=function(e){function n(e){var t;return(0,a.default)(this,n),(t=(0,u.default)(this,(0,c.default)(n).call(this,e))).state={width:b?t.getWidth():void 0},"undefined"!=typeof window&&(t.handleResize=(0,p.default)(function(){var e=t.getWidth();e!==t.state.width&&t.setState({width:e})},C)),t}return(0,s.default)(n,e),(0,l.default)(n,[{key:"componentDidMount",value:function(){var e=this.getWidth();e!==this.state.width&&this.setState({width:e})}},{key:"componentWillUnmount",value:function(){this.handleResize.clear()}},{key:"getWidth",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth,t=this.props.theme.breakpoints,n=null,r=1;null===n&&r<v.keys.length;){var o=v.keys[r];if(e<t.values[o]){n=v.keys[r-1];break}r+=1}return n=n||"xl"}},{key:"render",value:function(){var e=(0,g.default)({theme:this.props.theme,name:"MuiWithWidth",props:(0,o.default)({},this.props)}),n=e.initialWidth,a=e.theme,l=e.width,u=(0,i.default)(e,["initialWidth","theme","width"]),c=(0,o.default)({width:l||this.state.width||n||O},u);return void 0===c.width?null:(r&&(c.theme=a),d.default.createElement(d.default.Fragment,null,d.default.createElement(t,c),d.default.createElement(f.default,{target:"window",onResize:this.handleResize})))}}]),n}(d.default.Component);return(0,h.default)(E,t),(0,m.default)()(E)}};t.default=y},1465:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.isHorizontal=k,t.getAnchor=C,t.default=t.styles=void 0;var o=r(n(36)),i=r(n(55)),a=r(n(39)),l=r(n(73)),u=r(n(74)),c=r(n(76)),s=r(n(77)),d=r(n(78)),f=r(n(2)),p=(r(n(31)),r(n(47))),h=r(n(625)),m=r(n(38)),v=r(n(858)),g=r(n(93)),y=n(110),b=n(321),O={left:"right",right:"left",top:"down",bottom:"up"};function k(e){return-1!==["left","right"].indexOf(e.anchor)}function C(e){return"rtl"===e.theme.direction&&k(e)?O[e.anchor]:e.anchor}var E=function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:"none"},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}};t.styles=E;var w=function(e){function t(){var e,n;(0,l.default)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=(0,c.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(o)))).mounted=!1,n}return(0,d.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"render",value:function(){var e=this.props,t=(e.anchor,e.BackdropProps),n=e.children,r=e.classes,l=e.className,u=e.elevation,c=e.ModalProps,s=(c=void 0===c?{}:c).BackdropProps,d=(0,a.default)(c,["BackdropProps"]),m=e.onClose,b=e.open,k=e.PaperProps,E=e.SlideProps,w=(e.theme,e.transitionDuration),D=e.variant,j=(0,a.default)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","theme","transitionDuration","variant"]),P=C(this.props),R=f.default.createElement(g.default,(0,o.default)({elevation:"temporary"===D?u:0,square:!0,className:(0,p.default)(r.paper,r["paperAnchor".concat((0,y.capitalize)(P))],(0,i.default)({},r["paperAnchorDocked".concat((0,y.capitalize)(P))],"temporary"!==D))},k),n);if("permanent"===D)return f.default.createElement("div",(0,o.default)({className:(0,p.default)(r.root,r.docked,l)},j),R);var _=f.default.createElement(v.default,(0,o.default)({in:b,direction:O[P],timeout:w,appear:this.mounted},E),R);return"persistent"===D?f.default.createElement("div",(0,o.default)({className:(0,p.default)(r.root,r.docked,l)},j),_):f.default.createElement(h.default,(0,o.default)({BackdropProps:(0,o.default)({},t,s,{transitionDuration:w}),className:(0,p.default)(r.root,r.modal,l),open:b,onClose:m},j,d),_)}}]),t}(f.default.Component);w.defaultProps={anchor:"left",elevation:16,open:!1,transitionDuration:{enter:b.duration.enteringScreen,exit:b.duration.leavingScreen},variant:"temporary"};var D=(0,m.default)(E,{name:"MuiDrawer",flip:!1,withTheme:!0})(w);t.default=D},1473:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=r(n(1463))},1474:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=r(n(1465))},1476:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(2)),i=(0,r(n(44)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),o.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})),"ArrowBack");t.default=i},1479:function(e,t,n){"use strict";var r=n(6),o=n.n(r),i=n(10),a=n.n(i),l=n(7),u=n.n(l),c=n(8),s=n.n(c),d=n(2),f=n(52),p=n.n(f),h=function(e){function t(){return o()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"render",value:function(){return d.createElement(p.a,{component:"div",style:Object.assign({overflowY:"auto"},this.props.style)},this.props.children)}}]),t}(d.PureComponent);t.a=h},2086:function(e,t,n){"use strict";var r=n(6),o=n.n(r),i=n(10),a=n.n(i),l=n(7),u=n.n(l),c=n(8),s=n.n(c),d=n(11),f=n.n(d),p=n(2),h=n(13),m=n(3),v=n(14),g=n(29),y=n(148),b=n(23),O=n(415),k=n(52),C=n.n(k),E=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},w=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},D=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={kanbanColumns:[],markedKanbanColumns:e.hiddenColumns},n}return s()(t,e),a()(t,[{key:"componentDidMount",value:function(){this.setState(m(this.state,{kanbanColumns:{$set:this.getKanbanColumns()}}))}},{key:"getKanbanColumns",value:function(){var e=this;return this.props.columnRecords.getOrElse(function(){return[]}).map(function(t){return{id:t.id,title:e.props.columnField.flatMap(function(e){return Object(b.headOption)(e.entity.valueType.displayFields)}).flatMap(function(e){return Object(b.toOption)(t.entity.values[e.value])}).map(function(e){return e.value.toString()}).getOrElse(function(){return e.props.i18n.t("Заголовок не найден")}),cards:[]}})}},{key:"onRecordMarked",value:function(e){var t=this,n=this.state.markedKanbanColumns.findIndex(function(t){return t.value===e.id.value});Object(b.toOption)(-1===n).filter(function(e){return e}).matchWith(function(){return t.setState(m(t.state,{markedKanbanColumns:{$push:[e.id]}}),function(){return t.props.onColumnsVisibilityMarkedChange(t.state.markedKanbanColumns)})},function(){return t.setState(m(t.state,{markedKanbanColumns:{$splice:[[n,1]]}}),function(){return t.props.onColumnsVisibilityMarkedChange(t.state.markedKanbanColumns)})})}},{key:"render",value:function(){return p.createElement(p.Fragment,null,p.createElement(C.a,{variant:"subheading",style:{padding:15}},this.props.i18n.t("Выделите колонки, которые необходимо скрыть")),p.createElement(O.a,{showId:!0,error:new b.None,fetching:!1,markedRecords:this.state.markedKanbanColumns.map(function(e){return e.value}),onRecordMarked:this.onRecordMarked,empty:0===this.state.kanbanColumns.length,withActions:!0,headers:[{id:"columnName",title:this.props.i18n.t("Название колонки")}],rows:this.state.kanbanColumns.map(function(e,t){return{id:e.id.value,payload:e,fields:[e.title],buttons:[]}})}))}}]),t}(p.Component);D=E([h.autobind,w("design:paramtypes",[Object])],D),t.a=Object(v.connect)(function(e,t){return{i18n:e.i18n,columnField:Object(g.c)(e.fields,t.columnFormFieldId),columnRecords:Object(g.c)(e.fields,t.columnFormFieldId).flatMap(function(t){return Object(y.b)(e.dictionaries,t.entity.valueType.family)})}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(D)},2116:function(e,t,n){"use strict";var r=n(43),o=n.n(r),i=n(6),a=n.n(i),l=n(10),u=n.n(l),c=n(7),s=n.n(c),d=n(8),f=n.n(d),p=n(11),h=n.n(p),m=n(2),v=n(14),g=n(13),y=n(59),b=n(19),O=n.n(b),k=n(98),C=n.n(k),E=n(107),w=n.n(E),D=n(219),j=n.n(D),P=n(54),R=n.n(P),_=n(25),x=n.n(_),M=n(414),W=n.n(M),S=n(86),F=n.n(S),I=n(62),A=n.n(I),B=n(1),L=n(0),T=n(83),z=n(95),U=n(161),K=n(113),N=n(309),H=n.n(N),V=n(776),q=n.n(V),$=n(775),J=n.n($),Y=n(26),G=n.n(Y),Q=n(52),X=n.n(Q),Z=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ee=function(e){function t(){return a()(this,t),s()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),u()(t,[{key:"handleUnderlinedChanged",value:function(){this.props.fields.isUnderlined.onChange(!this.props.fields.isUnderlined.value)}},{key:"handleItalicChanged",value:function(){this.props.fields.fontStyle.onChange("inherit"==this.props.fields.fontStyle.value?"italic":"inherit")}},{key:"handleBoldChanged",value:function(){this.props.fields.fontWeight.onChange("inherit"==this.props.fields.fontWeight.value?"bold":"inherit")}},{key:"render",value:function(){return m.createElement("form",null,m.createElement(G.a,{fullWidth:!0,autoFocus:!0,value:this.props.fields.name.value,onChange:this.props.fields.name.onChange,label:this.props.i18n.t("Название"),error:this.props.fields.name.touched&&this.props.fields.name.error,helperText:this.props.fields.name.touched&&Object(L.toOption)(this.props.fields.name.error).map(function(e){return e}).getOrNull()}),m.createElement("h4",null,this.props.i18n.t("Стиль")),m.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},m.createElement("div",null,m.createElement(X.a,{variant:"caption",gutterBottom:!0,align:"center"},this.props.i18n.t("Фон")),m.createElement(K.a,{value:this.props.fields.bgColor.value,onChange:this.props.fields.bgColor.onChange})),m.createElement("div",null,m.createElement(X.a,{variant:"caption",gutterBottom:!0,align:"center"},this.props.i18n.t("Текст")),m.createElement(K.a,{value:this.props.fields.color.value,onChange:this.props.fields.color.onChange})),m.createElement("div",null,m.createElement(X.a,{variant:"caption",gutterBottom:!0,align:"center"},this.props.i18n.t("Стиль текста")),m.createElement(x.a,{onClick:this.handleUnderlinedChanged},m.createElement(H.a,{style:{fill:this.props.fields.isUnderlined.value?"#f00":"#000"}})),m.createElement(x.a,{onClick:this.handleItalicChanged},m.createElement(q.a,{style:{fill:"inherit"==this.props.fields.fontStyle.value?"#000":"#f00"}})),m.createElement(x.a,{onClick:this.handleBoldChanged},m.createElement(J.a,{style:{fill:"inherit"==this.props.fields.fontWeight.value?"#000":"#f00"}})))),m.createElement("h4",null,this.props.i18n.t("Фильтр")),m.createElement(U.a,{formId:this.props.formId,filterId:this.props.fields.filterId.value,initialValue:""===this.props.fields.filter.value?new L.None:this.props.fields.filter.value}))}}]),t}(m.Component);ee=Z([g.autobind],ee);var te=Object(v.connect)(function(e){return{i18n:e.i18n}},function(e){return{}},function(e,t,n){return Object.assign({},e,n)},{withRef:!0})(Object(z.reduxForm)({form:"dataListConfigDecorationsListForm",fields:["name","filterId","filter","color","bgColor","fontStyle","fontWeight","isUnderlined"],validate:function(e,t){var n={};return e.name&&0!==e.name.trim().length||(n.name=t.i18n.t("Обязательное значение")),n}})(Object(T.a)(ee))),ne=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},re=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},oe=function(e){function t(e){return a()(this,t),s()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return f()(t,e),u()(t,[{key:"getDataListConfigTableDecoration",value:function(e,t){return new B.DataListConfigTableDecoration(e.name,Object(L.toOption)(t),Object(L.toOption)(new B.ElementFont(B.FontFile.createDefault(),16,e.isUnderlined,e.color,new B.ElementHorizontalAlignmentLeft,new B.ElementVerticalAlignmentMiddle,Object(L.toOption)(new B.ElementFontFace("",e.fontStyle,e.fontWeight)))),Object(L.toOption)(new B.ElementBackground(e.bgColor)))}},{key:"onDataListConfigTableDecorationDialogOpen",value:function(e,t,n){var r=this,o=void 0,i=this.props.openDialog(e,m.createElement(te,{ref:function(e){return o=Object(L.toOption)(e).flatMap(function(e){return Object(L.toOption)(e.wrappedInstance)})},formId:this.props.formId,onSubmit:function(e){return t(e,i)},initialValues:n}),[m.createElement(O.a,{variant:"raised",onClick:function(){r.props.handleDialogClose(i)},style:{marginRight:"10px"}},this.props.i18n.t("Отмена")),m.createElement(O.a,{variant:"raised",onClick:function(){return o.map(function(e){return e.submit()})},color:"primary"},this.props.i18n.t("Сохранить"))])}},{key:"onDecorationAdd",value:function(){var e=this;this.onDataListConfigTableDecorationDialogOpen(this.props.i18n.t("Новое оформление"),function(t,n){Object(L.liftKey)(e.props.filtersForm.filter,t.filterId.value).foreach(function(n){e.props.onDecorationsChange([].concat(o()(e.props.decorations),[e.getDataListConfigTableDecoration(t,n)]))}),e.props.handleDialogClose(n)},{filterId:new B.Id(y.v4()),fontStyle:"inherit",fontWeight:"inherit"})}},{key:"onDecorationEdit",value:function(e,t){var n=this;this.onDataListConfigTableDecorationDialogOpen(this.props.i18n.t("Редактировать оформление"),function(e,r){Object(L.liftKey)(n.props.filtersForm.filter,e.filterId.value).foreach(function(r){n.props.onDecorationsChange([].concat(o()(n.props.decorations.slice(0,t)),[n.getDataListConfigTableDecoration(e,r)],o()(n.props.decorations.slice(t+1))))}),n.props.handleDialogClose(r)},{name:e.name,filter:e.filter,filterId:new B.Id(y.v4()),color:e.font.map(function(e){return e.color}).getOrElse(function(){return"#000"}),bgColor:e.background.map(function(e){return e.color}).getOrElse(function(){return"#000"}),fontStyle:e.font.flatMap(function(e){return e.fontFace}).map(function(e){return e.fontStyle}).getOrElse(function(){return"inherit"}),fontWeight:e.font.flatMap(function(e){return e.fontFace}).map(function(e){return e.fontWeight}).getOrElse(function(){return"inherit"}),isUnderlined:e.font.map(function(e){return e.isUnderlined}).getOrElse(function(){return!1})})}},{key:"onDecorationDelete",value:function(e){this.props.onDecorationsChange([].concat(o()(this.props.decorations.slice(0,e)),o()(this.props.decorations.slice(e+1))))}},{key:"render",value:function(){var e=this;return m.createElement("div",null,m.createElement(C.a,null,this.props.decorations.map(function(t,n){return m.createElement(w.a,{key:n,style:{borderBottom:"1px solid ".concat(A.a[300])}},m.createElement(R.a,{primary:t.name}),m.createElement(j.a,null,m.createElement(x.a,{"aria-label":"Edit",onClick:function(){return e.onDecorationEdit(t,n)}},m.createElement(F.a,null)),m.createElement(x.a,{"aria-label":"Delete",onClick:function(){return e.onDecorationDelete(n)}},m.createElement(W.a,null))))})),m.createElement(O.a,{onClick:this.onDecorationAdd,variant:"raised"},this.props.i18n.t("Добавить оформление")))}}]),t}(m.Component);oe=ne([g.autobind,re("design:paramtypes",[Object])],oe);t.a=Object(v.connect)(function(e){return{i18n:e.i18n,filtersForm:e.filtersForm}})(Object(T.a)(oe))}}]);