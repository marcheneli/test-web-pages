(window.webpackJsonpwww=window.webpackJsonpwww||[]).push([[56],{1462:function(e,t,n){"use strict";var r=n(855);Object.defineProperty(t,"__esModule",{value:!0});var o={};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=r(n(1464));Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))})},1463:function(e,t,n){"use strict";var r=n(855),o=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(36)),a=o(n(2)),c=(o(n(31)),r(n(1462))),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.breakpoint,r=void 0===n?"sm":n;return(0,c.default)()(function(e){return a.default.createElement(t,(0,i.default)({fullScreen:(0,c.isWidthDown)(r,e.width)},e))})}};t.default=l},1464:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isWidthDown=t.isWidthUp=void 0;var o=r(n(36)),i=r(n(39)),a=r(n(73)),c=r(n(74)),l=r(n(76)),u=r(n(77)),s=r(n(78)),p=r(n(2)),f=(r(n(31)),r(n(217))),d=r(n(373)),h=(n(61),r(n(539))),m=r(n(263)),y=n(859),v=r(n(860));t.isWidthUp=function(e,t){return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?y.keys.indexOf(e)<y.keys.indexOf(t):y.keys.indexOf(e)<=y.keys.indexOf(t)};t.isWidthDown=function(e,t){return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?y.keys.indexOf(t)<y.keys.indexOf(e):y.keys.indexOf(t)<=y.keys.indexOf(e)};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.withTheme,r=void 0!==n&&n,g=e.noSSR,b=void 0!==g&&g,O=e.initialWidth,E=e.resizeInterval,j=void 0===E?166:E,C=function(e){function n(e){var t;return(0,a.default)(this,n),(t=(0,l.default)(this,(0,u.default)(n).call(this,e))).state={width:b?t.getWidth():void 0},"undefined"!=typeof window&&(t.handleResize=(0,d.default)(function(){var e=t.getWidth();e!==t.state.width&&t.setState({width:e})},j)),t}return(0,s.default)(n,e),(0,c.default)(n,[{key:"componentDidMount",value:function(){var e=this.getWidth();e!==this.state.width&&this.setState({width:e})}},{key:"componentWillUnmount",value:function(){this.handleResize.clear()}},{key:"getWidth",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth,t=this.props.theme.breakpoints,n=null,r=1;null===n&&r<y.keys.length;){var o=y.keys[r];if(e<t.values[o]){n=y.keys[r-1];break}r+=1}return n=n||"xl"}},{key:"render",value:function(){var e=(0,v.default)({theme:this.props.theme,name:"MuiWithWidth",props:(0,o.default)({},this.props)}),n=e.initialWidth,a=e.theme,c=e.width,l=(0,i.default)(e,["initialWidth","theme","width"]),u=(0,o.default)({width:c||this.state.width||n||O},l);return void 0===u.width?null:(r&&(u.theme=a),p.default.createElement(p.default.Fragment,null,p.default.createElement(t,u),p.default.createElement(f.default,{target:"window",onResize:this.handleResize})))}}]),n}(p.default.Component);return(0,h.default)(C,t),(0,m.default)()(C)}};t.default=g},1465:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.isHorizontal=E,t.getAnchor=j,t.default=t.styles=void 0;var o=r(n(36)),i=r(n(55)),a=r(n(39)),c=r(n(73)),l=r(n(74)),u=r(n(76)),s=r(n(77)),p=r(n(78)),f=r(n(2)),d=(r(n(31)),r(n(47))),h=r(n(625)),m=r(n(38)),y=r(n(858)),v=r(n(93)),g=n(110),b=n(321),O={left:"right",right:"left",top:"down",bottom:"up"};function E(e){return-1!==["left","right"].indexOf(e.anchor)}function j(e){return"rtl"===e.theme.direction&&E(e)?O[e.anchor]:e.anchor}var C=function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:"none"},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}};t.styles=C;var R=function(e){function t(){var e,n;(0,c.default)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(o)))).mounted=!1,n}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"render",value:function(){var e=this.props,t=(e.anchor,e.BackdropProps),n=e.children,r=e.classes,c=e.className,l=e.elevation,u=e.ModalProps,s=(u=void 0===u?{}:u).BackdropProps,p=(0,a.default)(u,["BackdropProps"]),m=e.onClose,b=e.open,E=e.PaperProps,C=e.SlideProps,R=(e.theme,e.transitionDuration),k=e.variant,P=(0,a.default)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","theme","transitionDuration","variant"]),w=j(this.props),S=f.default.createElement(v.default,(0,o.default)({elevation:"temporary"===k?l:0,square:!0,className:(0,d.default)(r.paper,r["paperAnchor".concat((0,g.capitalize)(w))],(0,i.default)({},r["paperAnchorDocked".concat((0,g.capitalize)(w))],"temporary"!==k))},E),n);if("permanent"===k)return f.default.createElement("div",(0,o.default)({className:(0,d.default)(r.root,r.docked,c)},P),S);var T=f.default.createElement(y.default,(0,o.default)({in:b,direction:O[w],timeout:R,appear:this.mounted},C),S);return"persistent"===k?f.default.createElement("div",(0,o.default)({className:(0,d.default)(r.root,r.docked,c)},P),T):f.default.createElement(h.default,(0,o.default)({BackdropProps:(0,o.default)({},t,s,{transitionDuration:R}),className:(0,d.default)(r.root,r.modal,c),open:b,onClose:m},P,p),T)}}]),t}(f.default.Component);R.defaultProps={anchor:"left",elevation:16,open:!1,transitionDuration:{enter:b.duration.enteringScreen,exit:b.duration.leavingScreen},variant:"temporary"};var k=(0,m.default)(C,{name:"MuiDrawer",flip:!1,withTheme:!0})(R);t.default=k},1473:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=r(n(1463))},1474:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=r(n(1465))},1476:function(e,t,n){"use strict";var r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(2)),i=(0,r(n(44)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),o.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})),"ArrowBack");t.default=i},1479:function(e,t,n){"use strict";var r=n(6),o=n.n(r),i=n(10),a=n.n(i),c=n(7),l=n.n(c),u=n(8),s=n.n(u),p=n(2),f=n(52),d=n.n(f),h=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"render",value:function(){return p.createElement(d.a,{component:"div",style:Object.assign({overflowY:"auto"},this.props.style)},this.props.children)}}]),t}(p.PureComponent);t.a=h},1589:function(e,t,n){"use strict";var r=n(17),o=n(6),i=n.n(o),a=n(7),c=n.n(a),l=n(8),u=n.n(l),s=n(18),p=function(e){function t(e){return i()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"SocialConnections","List",{organisationId:e}))}return u()(t,e),t}(s.a),f=function(e){function t(e){return i()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"SocialConnections","Update",{connection:e}))}return u()(t,e),t}(s.a),d=function(e){function t(e){return i()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"SocialConnections","Create",{connection:e}))}return u()(t,e),t}(s.a),h=function(e){function t(e){return i()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"SocialConnections","Delete",{id:e}))}return u()(t,e),t}(s.a),m=function(e){function t(e){return i()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"SocialConnections","XeroConnect",{connectionId:e}))}return u()(t,e),t}(s.a),y=n(21);n.d(t,"d",function(){return v}),n.d(t,"e",function(){return g}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return O}),n.d(t,"a",function(){return E});var v=function(e){return r.a.send(new p(e),Object(y.g)())},g=function(e){return r.a.send(new f(e),Object(y.f)())},b=function(e){return r.a.send(new d(e),Object(y.c)())},O=function(e){return r.a.send(new h(e),Object(y.d)())},E=function(e){return r.a.send(new m(e),function(e){return e})}},1599:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n(446),o=n(1589),i=function(e){return function(t,n){return n().socialConnections.fetched?new Promise(function(e,t){e(n().socialConnections.list)}):t(a(e))}},a=function(e){return function(t,n){return t(Object(r.e)()),o.d(e).then(function(e){return t(Object(r.f)(e.list)),e.list}).catch(function(e){throw t(Object(r.d)(e)),e})}}},2720:function(e,t,n){"use strict";n.r(t);var r=n(6),o=n.n(r),i=n(10),a=n.n(i),c=n(7),l=n.n(c),u=n(8),s=n.n(u),p=n(11),f=n.n(p),d=n(2),h=n(14),m=n(13),y=n(19),v=n.n(y),g=n(1),b=n(84),O=n(1491),E=n(79),j=n(1467),C=n(627),R=n(1478),k=n(4),P=n.n(k),w=n(3),S=n(856),T=n.n(S),_=n(857),I=n.n(_),F=n(93),x=n.n(F),$=n(1479),q=n(56),D=n(2115),W=n(1910),M=n(1909),H=n(59),L=n(161),N=n(70),z=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},A=new g.Id(H.v4()),U=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"handleFilterChange",value:function(e){this.props.dispatch(Object(N.kb)(e))}},{key:"render",value:function(){return d.createElement("div",null,d.createElement("h4",null,this.props.i18n.t("Фильтр")),d.createElement("div",{style:{marginLeft:"20px"}},d.createElement(L.a,{formId:this.props.formId,filterId:A,initialValue:this.props.materialize.filter,onChange:this.handleFilterChange})))}}]),t}(d.Component);U=z([m.autobind],U);var G=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(U),B=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},X=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"render",value:function(){return d.createElement(d.Fragment,null,d.createElement(M.a,{identityType:this.props.materialize.identityType}),d.createElement(W.a,{deleteNonExistedRecords:this.props.materialize.deleteNonExistedRecords}),d.createElement(G,{formId:this.props.formId,materialize:this.props.materialize}))}}]),t}(d.Component);X=B([m.autobind],X);var K,V,Z=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(X),J=n(319),Y=n.n(J),Q=n(416),ee=n.n(Q),te=n(33),ne=n.n(te),re=n(271),oe=n.n(re),ie=n(267),ae=n.n(ie),ce=n(256),le=n(482),ue=n(671),se=n(315),pe=n(0),fe=n(494),de=n(82),he=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},me={fontSize:20},ye={width:30,height:30},ve=(K={},P()(K,g.ImportOperationResourceConnectionUri.$Type.value,function(){return new ce.e("",new le.b,[new ue.a("","")])}),P()(K,g.ImportOperationResourceConnectionFtp.$Type.value,function(){return new ce.c("",21,new se.c(new se.b("",""),""))}),P()(K,g.ImportOperationResourceConnectionSFtp.$Type.value,function(){return new ce.c("",21,new se.d(new se.b("",""),""))}),P()(K,g.ImportOperationResourceConnectionApi.$Type.value,function(){return new ce.a}),P()(K,g.ImportOperationResourceConnectionGMail.$Type.value,function(){return new ce.d("",new pe.None)}),P()(K,g.ImportOperationResourceConnectionXero.$Type.value,function(){return new ce.f("",new fe.b)}),K),ge=(V={},P()(V,g.ImportOperationResourceApiResource.$Type.value,function(e){return g.ImportOperationResourceConnectionApi.$Type.value}),P()(V,g.ImportOperationResourceUriResource.$Type.value,function(e){return g.ImportOperationResourceConnectionUri.$Type.value}),P()(V,g.ImportOperationResourceFtpResource.$Type.value,function(e){return e.proto.tpe.value===g.FtpProtoFtp.$Type.value?g.ImportOperationResourceConnectionFtp.$Type.value:g.ImportOperationResourceConnectionSFtp.$Type.value}),P()(V,g.ImportOperationResourceGMailResource.$Type.value,function(e){return g.ImportOperationResourceConnectionGMail.$Type.value}),P()(V,g.ImportOperationResourceXeroResource.$Type.value,function(e){return g.ImportOperationResourceConnectionXero.$Type.value}),V),be=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onImportOperationResourceChange",value:function(e,t){var n=this;Object(q.b)(t)(ve).map(function(e){return e()}).matchWith(function(e){n.props.dispatch(Object(N.wb)(e))},function(){throw"unknown operation connection type"})}},{key:"getValue",value:function(){var e=this;return Object(q.b)(this.props.resource.tpe.value)(ge).map(function(t){return t(e.props.resource)}).matchWith(function(e){return e},function(){throw"unknown operation resource type"})}},{key:"render",value:function(){return d.createElement("div",null,d.createElement("h4",null,this.props.i18n.t("Подключение")),d.createElement("div",{style:{marginLeft:"20px"}},d.createElement(ee.a,{name:"operationResource",onChange:this.onImportOperationResourceChange,value:this.getValue()},d.createElement(ne.a,{control:d.createElement(Y.a,{style:ye,icon:d.createElement(oe.a,{style:me}),checkedIcon:d.createElement(ae.a,{style:me})}),value:g.ImportOperationResourceConnectionUri.$Type.value,label:this.props.i18n.t("По ссылке")}),d.createElement(ne.a,{control:d.createElement(Y.a,{style:ye,icon:d.createElement(oe.a,{style:me}),checkedIcon:d.createElement(ae.a,{style:me})}),value:g.ImportOperationResourceConnectionFtp.$Type.value,label:this.props.i18n.t("FTP")}),d.createElement(ne.a,{control:d.createElement(Y.a,{style:ye,icon:d.createElement(oe.a,{style:me}),checkedIcon:d.createElement(ae.a,{style:me})}),value:g.ImportOperationResourceConnectionSFtp.$Type.value,label:this.props.i18n.t("SFTP")}),d.createElement(ne.a,{control:d.createElement(Y.a,{style:ye,icon:d.createElement(oe.a,{style:me}),checkedIcon:d.createElement(ae.a,{style:me})}),value:g.ImportOperationResourceConnectionApi.$Type.value,label:this.props.i18n.t("По внешнему запросу к Api")}),!de.default.isA5000&&d.createElement(ne.a,{control:d.createElement(Y.a,{style:ye,icon:d.createElement(oe.a,{style:me}),checkedIcon:d.createElement(ae.a,{style:me})}),value:g.ImportOperationResourceConnectionGMail.$Type.value,label:this.props.i18n.t("GMail")}),!de.default.isA5000&&d.createElement(ne.a,{control:d.createElement(Y.a,{style:ye,icon:d.createElement(oe.a,{style:me}),checkedIcon:d.createElement(ae.a,{style:me})}),value:g.ImportOperationResourceConnectionXero.$Type.value,label:this.props.i18n.t("Xero")}))))}}]),t}(d.Component);be=he([m.autobind],be);var Oe=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(be),Ee=n(26),je=n.n(Ee),Ce=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Re=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onFtpHostChanged",value:function(e){this.props.dispatch(Object(N.wb)(w(this.props.resource,{host:{$set:e.target.value}})))}},{key:"onFtpPortChanged",value:function(e){var t=parseInt(e.target.value);isNaN(t)||this.props.dispatch(Object(N.wb)(w(this.props.resource,{port:{$set:t}})))}},{key:"render",value:function(){return d.createElement("div",{style:{display:"flex"}},d.createElement("div",{style:{flex:"1 0 auto",paddingRight:"5px"}},d.createElement(je.a,{placeholder:this.props.i18n.t("FTP хост"),value:this.props.resource.host,onChange:this.onFtpHostChanged,fullWidth:!0})),d.createElement("div",{style:{flex:"1 0 auto",paddingLeft:"5px"}},d.createElement(je.a,{placeholder:this.props.i18n.t("Порт"),value:this.props.resource.port,onChange:this.onFtpPortChanged,fullWidth:!0})))}}]),t}(d.Component);Re=Ce([m.autobind],Re);var ke=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Re),Pe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},we=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onChange",value:function(e){this.props.dispatch(Object(N.wb)(w(this.props.resource,{proto:{credentials:{$set:e}}})))}},{key:"onFtpCredentialsUserChange",value:function(e){this.onChange(w(this.props.credentials,{user:{$set:e.target.value}}))}},{key:"onFtpCredentialsPasswordChange",value:function(e){this.onChange(w(this.props.credentials,{password:{$set:e.target.value}}))}},{key:"render",value:function(){return d.createElement("div",{style:{marginLeft:"20px"}},d.createElement(je.a,{placeholder:this.props.i18n.t("Логин"),fullWidth:!0,value:this.props.credentials.user,onChange:this.onFtpCredentialsUserChange}),d.createElement(je.a,{placeholder:this.props.i18n.t("Пароль"),fullWidth:!0,value:this.props.credentials.password,onChange:this.onFtpCredentialsPasswordChange}))}}]),t}(d.Component);we=Pe([m.autobind],we);var Se=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(we),Te=n(30),_e=n.n(Te),Ie=n(32),Fe=n.n(Ie),xe=n(34),$e=n.n(xe),qe=n(139),De=n(99),We=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Me=function(e){function t(){o()(this,t);var e=l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.fileInput=new pe.None,e}return s()(t,e),a()(t,[{key:"fileInputHandler",value:function(e){this.fileInput=Object(pe.toOption)(e)}},{key:"fileChanged",value:function(e){var t=this,n=e.target.files[0];Object(De.h)(n,this.props.cdnAddress,this.props.auth.token,this.props.organisation.organisationId,this.props.eventLine.eventLineId,new pe.None,new pe.None).then(function(e){Object(De.b)(e).then(function(n){t.props.dispatch(Object(qe.e)([n.record])),t.onFtpCredentialsKeyFileChange(e.value)})}).catch(function(e){console.log("File uploaded with error",e)})}},{key:"onChange",value:function(e){this.props.dispatch(Object(N.wb)(w(this.props.resource,{proto:{credentials:{$set:e}}})))}},{key:"onFtpCredentialsKeyFileChange",value:function(e){this.onChange(w(this.props.credentials,{fileId:{$set:e}}))}},{key:"onKeyFileLoadClick",value:function(){this.fileInput.foreach(function(e){e.click()})}},{key:"onFtpCredentialsUserChange",value:function(e){this.onChange(w(this.props.credentials,{user:{$set:e.target.value}}))}},{key:"onFtpCredentialsPassphraseChange",value:function(e){this.onChange(w(this.props.credentials,{passphrase:{$set:e.target.value}}))}},{key:"onFtpCredentialsKeyFileSelect",value:function(e){this.onFtpCredentialsKeyFileChange(e.target.value)}},{key:"render",value:function(){return d.createElement("div",{style:{marginLeft:"20px"}},d.createElement("input",{ref:this.fileInputHandler,type:"file",onChange:this.fileChanged,style:{display:"none"}}),d.createElement(je.a,{placeholder:this.props.i18n.t("Логин"),fullWidth:!0,value:this.props.credentials.user,onChange:this.onFtpCredentialsUserChange}),d.createElement(je.a,{placeholder:this.props.i18n.t("Кодовое слово"),fullWidth:!0,value:this.props.credentials.passphrase,onChange:this.onFtpCredentialsPassphraseChange}),d.createElement("div",{style:{display:"flex"}},d.createElement(Fe.a,{fullWidth:!0},d.createElement($e.a,null,this.props.i18n.t("Файл ключа")),d.createElement(_e.a,{fullWidth:!0,disabled:!0,style:{flex:"1 1 auto"},value:this.props.credentials.fileId,onChange:this.onFtpCredentialsKeyFileSelect},this.props.fileMetas.list.map(function(e,t){return d.createElement("option",{key:t,value:e.id.value},e.entity.originalName)}))),d.createElement("div",{style:{flexShrink:0,marginLeft:"10px"}},d.createElement(v.a,{variant:"raised",color:"primary",onClick:this.onKeyFileLoadClick},this.props.i18n.t("Загрузить")))))}}]),t}(d.Component);Me=We([m.autobind],Me);var He,Le=Object(h.connect)(function(e,t){return{i18n:e.i18n,fileMetas:e.fileMetas,auth:e.auth,eventLine:e.eventLine,organisation:e.organisation,cdnAddress:e.config.cdnAddress}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Me),Ne=n(1908),ze=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ae=(He={},P()(He,g.FtpCredentialsNormal.$Type.value,function(){return new se.b("","")}),P()(He,g.FtpCredentialsKeyFile.$Type.value,function(){return new se.a("","","")}),He),Ue=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onFtpCredentialsChange",value:function(e,t){var n=this;Object(q.b)(t)(Ae).matchWith(function(e){n.props.dispatch(Object(N.wb)(w(n.props.resource,{proto:{credentials:{$set:e()}}})))},function(){throw"unknwon credential type"})}},{key:"render",value:function(){return d.createElement("div",{style:{marginLeft:"20px"}},d.createElement(ee.a,{name:"ftpCredentials",onChange:this.onFtpCredentialsChange,value:this.props.resource.proto.credentials.tpe.value},d.createElement(ne.a,{control:d.createElement(Y.a,{style:Ne.b,icon:d.createElement(oe.a,{style:Ne.a}),checkedIcon:d.createElement(ae.a,{style:Ne.a})}),value:g.FtpCredentialsNormal.$Type.value,label:this.props.i18n.t("Логин и пароль")}),d.createElement(ne.a,{control:d.createElement(Y.a,{style:Ne.b,icon:d.createElement(oe.a,{style:Ne.a}),checkedIcon:d.createElement(ae.a,{style:Ne.a})}),value:g.FtpCredentialsKeyFile.$Type.value,label:this.props.i18n.t("Логин и файл ключа")})))}}]),t}(d.Component);Ue=ze([m.autobind],Ue);var Ge,Be=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Ue),Xe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ke=(Ge={},P()(Ge,g.FtpCredentialsKeyFile.$Type.value,function(e,t){return d.createElement(Le,{resource:e,credentials:t})}),P()(Ge,g.FtpCredentialsNormal.$Type.value,function(e,t){return d.createElement(Se,{resource:e,credentials:t})}),Ge),Ve=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"renderFtpCredentialsSettings",value:function(){var e=this;Object(q.b)(this.props.resource.proto.credentials.tpe.value)(Ke).matchWith(function(t){return t(e.props.resource,e.props.resource.proto.credentials)},function(){throw"unknown ftp credentials type"})}},{key:"render",value:function(){return d.createElement("div",null,d.createElement("h4",null,this.props.i18n.t("Авторизация")),d.createElement(Be,{resource:this.props.resource}),this.renderFtpCredentialsSettings())}}]),t}(d.Component);Ve=Xe([m.autobind],Ve);var Ze=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Ve),Je=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ye=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onFtpPathChanged",value:function(e){this.props.dispatch(Object(N.wb)(w(this.props.resource,{proto:{path:{$set:e.target.value}}})))}},{key:"render",value:function(){return d.createElement("div",null,d.createElement("h4",null,this.props.i18n.t("Разовый импорт")),d.createElement(je.a,{style:{display:"block",width:"initial",marginLeft:"20px"},label:this.props.i18n.t("Ссылка на файл"),value:this.props.resource.proto.path,onChange:this.onFtpPathChanged,fullWidth:!0}))}}]),t}(d.Component);Ye=Je([m.autobind],Ye);var Qe=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Ye),et=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},tt=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"render",value:function(){return d.createElement(d.Fragment,null,d.createElement(Ze,{resource:this.props.resource}),d.createElement(Qe,{resource:this.props.resource}))}}]),t}(d.Component);tt=et([m.autobind],tt);var nt=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(tt),rt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ot=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"render",value:function(){return d.createElement("div",null,d.createElement(ke,{resource:this.props.resource}),d.createElement(nt,{resource:this.props.resource}))}}]),t}(d.Component);ot=rt([m.autobind],ot);var it=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(ot),at=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ct=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onGmailFilterChange",value:function(e){this.props.dispatch(Object(N.wb)(w(this.props.resource,{gmailFilter:{$set:Object(pe.toOption)(e.target.value)}})))}},{key:"onGMailConnectionSelect",value:function(e){this.props.dispatch(Object(N.wb)(w(this.props.resource,{connection:{$set:e.target.value}})))}},{key:"render",value:function(){return d.createElement("div",{style:{marginLeft:"20px"}},d.createElement(Fe.a,{fullWidth:!0},d.createElement($e.a,null,this.props.i18n.t("GMail соединение")),d.createElement(_e.a,{fullWidth:!0,value:this.props.resource.connection,onChange:this.onGMailConnectionSelect},this.props.socialConnections.list.filter(function(e){return e.entity.connector.tpe.value===g.GoogleApp.$Type.value}).map(function(e,t){return d.createElement("option",{key:t,value:e.id.value},e.entity.name)}))),d.createElement(je.a,{placeholder:this.props.i18n.t("Фильтр"),fullWidth:!0,value:this.props.resource.gmailFilter.getOrElse(function(){return""}),onChange:this.onGmailFilterChange}))}}]),t}(d.Component);ct=at([m.autobind],ct);var lt,ut=Object(h.connect)(function(e,t){return{i18n:e.i18n,socialConnections:e.socialConnections}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n&&e.socialConnections===t.socialConnections},areStatePropsEqual:function(e,t){return e.i18n===t.i18n&&e.socialConnections===t.socialConnections}})(ct),st=n(24),pt=n.n(st),ft=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},dt=(lt={},P()(lt,g.XeroEntityTypeAccount.$Type.value,function(){return new fe.a}),P()(lt,g.XeroEntityTypeInvoice.$Type.value,function(){return new fe.c}),P()(lt,g.XeroEntityTypeContact.$Type.value,function(){return new fe.b}),lt),ht=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onXeroConnectionSelect",value:function(e){this.props.dispatch(Object(N.wb)(w(this.props.resource,{connection:{$set:e.target.value}})))}},{key:"onXeroEntityTypeSelect",value:function(e){var t=this;Object(q.b)(e.target.value)(dt).matchWith(function(e){t.props.dispatch(Object(N.wb)(w(t.props.resource,{entityType:{$set:e()}})))},function(){throw"uknown xero entity type"})}},{key:"render",value:function(){return d.createElement("div",{style:{marginLeft:"20px"}},d.createElement(Fe.a,{fullWidth:!0},d.createElement($e.a,null,this.props.i18n.t("Xero соединение")),d.createElement(_e.a,{fullWidth:!0,value:this.props.resource.connection,onChange:this.onXeroConnectionSelect},this.props.socialConnections.list.filter(function(e){return e.entity.connector.tpe.value===g.XeroApp.$Type.value}).map(function(e,t){return d.createElement(pt.a,{key:t,value:e.id.value},e.entity.name)}))),d.createElement(Fe.a,{fullWidth:!0},d.createElement($e.a,null,this.props.i18n.t("Тип записи")),d.createElement(_e.a,{fullWidth:!0,value:this.props.resource.entityType.tpe.value,onChange:this.onXeroEntityTypeSelect},d.createElement(pt.a,{value:g.XeroEntityTypeContact.$Type.value},this.props.i18n.t("Контакт")),d.createElement(pt.a,{value:g.XeroEntityTypeAccount.$Type.value},this.props.i18n.t("Аккаунт")),d.createElement(pt.a,{value:g.XeroEntityTypeInvoice.$Type.value},this.props.i18n.t("Счет")))))}}]),t}(d.Component);ht=ft([m.autobind],ht);var mt=Object(h.connect)(function(e,t){return{i18n:e.i18n,socialConnections:e.socialConnections}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n&&e.socialConnections===t.socialConnections},areStatePropsEqual:function(e,t){return e.i18n===t.i18n&&e.socialConnections===t.socialConnections}})(ht),yt=n(45),vt=n.n(yt),gt=n(555),bt=n.n(gt),Ot=n(552),Et=n.n(Ot),jt=n(25),Ct=n.n(jt),Rt=n(72),kt=n.n(Rt),Pt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},wt=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onHeaderDelete",value:function(e){this.props.onChange(w(this.props.headers,{$splice:[[e,1]]}))}},{key:"onHeaderAdd",value:function(){this.props.onChange(w(this.props.headers,{$push:[new ue.a("","")]}))}},{key:"onHeaderKeyChange",value:function(e,t,n){this.props.onChange(w(this.props.headers,{$splice:[[e,1,w(t,{key:{$set:n}})]]}))}},{key:"onHeaderValueChange",value:function(e,t,n){this.props.onChange(w(this.props.headers,{$splice:[[e,1,w(t,{value:{$set:n}})]]}))}},{key:"render",value:function(){var e=this;return d.createElement("div",{style:{marginTop:"10px"}},d.createElement("div",null,this.props.i18n.t("Заголовки")),this.props.headers.map(function(t,n){return d.createElement("div",{style:{display:"flex"},key:n},d.createElement(je.a,{fullWidth:!0,style:{marginRight:"15px"},placeholder:e.props.i18n.t("Ключ"),value:t.key,onChange:function(r){return e.onHeaderKeyChange(n,t,r.target.value)}}),d.createElement(je.a,{fullWidth:!0,placeholder:e.props.i18n.t("Значение"),value:t.value,onChange:function(r){return e.onHeaderValueChange(n,t,r.target.value)}}),d.createElement(Ct.a,{style:{alignSelf:"center",flexShrink:0},onClick:function(t){return e.onHeaderDelete(n)}},d.createElement(kt.a,null)))}),d.createElement(v.a,{variant:"raised",color:"primary",onClick:this.onHeaderAdd},this.props.i18n.t("Добавить заголовок")))}}]),t}(d.Component),St=wt=Pt([m.autobind],wt),Tt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},_t=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onTokenFetchRequireChanged",value:function(e){this.props.onChange(w(this.props.tokenFetch,{enabled:{$set:e}}))}},{key:"getHttpMethod",value:function(e){switch(e){case g.HttpMethodGET.$Type.value:return new le.b;case g.HttpMethodPOST.$Type.value:return new le.c("");default:throw"Unknown http method type"}}},{key:"onTokenFetchJsonPathChanged",value:function(e){this.props.onChange(w(this.props.tokenFetch,{jsonPath:{$set:e}}))}},{key:"onTokenFetchHttpMethodChanged",value:function(e){this.props.onChange(w(this.props.tokenFetch,{resource:{method:{$set:this.getHttpMethod(e)}}}))}},{key:"onTokenFetchHttpHeadersChanged",value:function(e){this.props.onChange(w(this.props.tokenFetch,{resource:{headers:{$set:e}}}))}},{key:"onTokenFetchHttpMethodPOSTBodyChanged",value:function(e){this.props.onChange(w(this.props.tokenFetch,{resource:{method:{body:{$set:e}}}}))}},{key:"onTokenFetchUtiChanged",value:function(e){this.props.onChange(w(this.props.tokenFetch,{resource:{uri:{$set:e}}}))}},{key:"onTokenFetchCacheEnabled",value:function(e){this.props.onChange(w(this.props.tokenFetch,{cache:{enabled:{$set:e}}}))}},{key:"onExpiredInChanged",value:function(e){var t=parseInt(e.target.value);isNaN(t)||this.props.onChange(w(this.props.tokenFetch,{cache:{expiredIn:{$set:new g.Duration(t,g.TimeUnitType.Minutes)}}}))}},{key:"render",value:function(){var e=this,t=this.props.tokenFetch.enabled,n=this.props.tokenFetch.jsonPath,r=this.props.tokenFetch.resource,o=this.props.tokenFetch.cache;return d.createElement("div",null,d.createElement(ne.a,{style:{marginLeft:"5px"},label:this.props.i18n.t("Требуется получение токена"),control:d.createElement(vt.a,{style:{width:30,height:30},onChange:function(t,n){return e.onTokenFetchRequireChanged(n)},checked:t,icon:d.createElement(bt.a,{style:{fontSize:20}}),checkedIcon:d.createElement(Et.a,{style:{fontSize:20}})})}),t&&d.createElement("div",null,r.tpe.value===g.ImportOperationResourceUriResource.$Type.value&&d.createElement(je.a,{style:{display:"block",width:"initial",marginLeft:"20px",marginBottom:"20px"},label:this.props.i18n.t("Ссылка для запроса токена"),value:r.uri,onChange:function(t){return e.onTokenFetchUtiChanged(t.target.value)},fullWidth:!0}),r.method instanceof le.a&&d.createElement("div",{style:{marginLeft:"20px"}},d.createElement(ee.a,{name:"httpMethod",onChange:function(t,n){return e.onTokenFetchHttpMethodChanged(n)},value:r.method.tpe.value},d.createElement(ne.a,{value:g.HttpMethodGET.$Type.value,control:d.createElement(Y.a,{style:{width:30,height:30},icon:d.createElement(oe.a,{style:{fontSize:20}}),checkedIcon:d.createElement(ae.a,{style:{fontSize:20}})}),label:this.props.i18n.t("GET")}),d.createElement(ne.a,{value:g.HttpMethodPOST.$Type.value,control:d.createElement(Y.a,{style:{width:30,height:30},icon:d.createElement(oe.a,{style:{fontSize:20}}),checkedIcon:d.createElement(ae.a,{style:{fontSize:20}})}),label:this.props.i18n.t("POST")}))),d.createElement("div",{style:{marginLeft:"20px"}},d.createElement(St,{headers:r.headers,onChange:this.onTokenFetchHttpHeadersChanged,i18n:this.props.i18n})),r.method.tpe.value===g.HttpMethodPOST.$Type.value?d.createElement("div",{style:{marginLeft:"20px"}},d.createElement(je.a,{fullWidth:!0,label:this.props.i18n.t("Тело запроса"),value:r.method.body,multiline:!0,rows:2,rowsMax:10,onChange:function(t){return e.onTokenFetchHttpMethodPOSTBodyChanged(t.target.value)}})):null,d.createElement(ne.a,{style:{marginLeft:"5px"},label:this.props.i18n.t("Кешировать токен"),control:d.createElement(vt.a,{style:{width:30,height:30},onChange:function(t,n){return e.onTokenFetchCacheEnabled(n)},checked:o.enabled,icon:d.createElement(bt.a,{style:{fontSize:20}}),checkedIcon:d.createElement(Et.a,{style:{fontSize:20}})})}),o.enabled&&d.createElement(je.a,{style:{marginLeft:"20px"},fullWidth:!0,label:this.props.i18n.t("Время кеширования, мин"),value:o.expiredIn.getMinutes(),onChange:this.onExpiredInChanged}),d.createElement(je.a,{fullWidth:!0,label:this.props.i18n.t("Путь к токену"),value:n,onChange:function(t){return e.onTokenFetchJsonPathChanged(t.target.value)},style:{marginLeft:"20px"}}),d.createElement("div",{style:{marginLeft:"20px",fontSize:"small",color:"#757575"}},this.props.i18n.t("Для подстановки токена используйте переменную $access_token"))))}}]),t}(d.Component);_t=Tt([m.autobind],_t);var It,Ft=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(_t),xt=n(612),$t=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},qt=(It={},P()(It,g.HttpMethodGET.$Type.value,function(){return new le.b}),P()(It,g.HttpMethodPOST.$Type.value,function(){return new le.c("")}),P()(It,g.HttpMethodPUT.$Type.value,function(){return new le.d("")}),It),Dt=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onTokenFetchChanged",value:function(e){this.props.dispatch(Object(N.wb)(w(this.props.resource,{tokenFetch:{$set:e}})))}},{key:"onHttpMethodChanged",value:function(e,t){var n=this;Object(q.b)(t)(qt).matchWith(function(e){n.props.dispatch(Object(N.wb)(w(n.props.resource,{method:{$set:e()}})))},function(){throw"unknown http method"})}},{key:"onHttpHeadersChanged",value:function(e){this.props.dispatch(Object(N.wb)(w(this.props.resource,{headers:{$set:e}})))}},{key:"onHttpMethodPOSTBodyChanged",value:function(e){this.props.dispatch(Object(N.wb)(w(this.props.resource,{method:{body:{$set:e.target.value}}})))}},{key:"onFetchUriChanged",value:function(e){this.props.dispatch(Object(N.wb)(w(this.props.resource,{uri:{$set:e.target.value}})))}},{key:"render",value:function(){return d.createElement("div",null,d.createElement("div",null,d.createElement("h4",null,this.props.i18n.t("Авторизация")),d.createElement(Ft,{i18n:this.props.i18n,tokenFetch:this.props.resource.tokenFetch.getOrElse(function(){return new xt.b(!1,new ce.e("",new le.b,[new ue.a("","")]),"")}),onChange:this.onTokenFetchChanged}),d.createElement("h4",null,this.props.i18n.t("Настройки основного запроса")),this.props.resource.method instanceof le.a&&d.createElement("div",{style:{marginLeft:"20px"}},d.createElement(ee.a,{name:"httpMethod",onChange:this.onHttpMethodChanged,value:this.props.resource.method.tpe.value},d.createElement(ne.a,{control:d.createElement(Y.a,{style:Ne.b,icon:d.createElement(oe.a,{style:Ne.a}),checkedIcon:d.createElement(ae.a,{style:Ne.a})}),value:g.HttpMethodGET.$Type.value,label:this.props.i18n.t("GET")}),d.createElement(ne.a,{control:d.createElement(Y.a,{style:Ne.b,icon:d.createElement(oe.a,{style:Ne.a}),checkedIcon:d.createElement(ae.a,{style:Ne.a})}),value:g.HttpMethodPOST.$Type.value,label:this.props.i18n.t("POST")})))),d.createElement("div",{style:{marginLeft:"20px"}},d.createElement(St,{headers:this.props.resource.headers,onChange:this.onHttpHeadersChanged,i18n:this.props.i18n})),this.props.resource.method instanceof le.c&&d.createElement("div",{style:{marginLeft:"20px"}},d.createElement(je.a,{fullWidth:!0,placeholder:this.props.i18n.t("Тело запроса"),value:this.props.resource.method.body,multiline:!0,rows:2,rowsMax:10,onChange:this.onHttpMethodPOSTBodyChanged})),d.createElement("div",null,d.createElement("h4",null,this.props.i18n.t("Разовый импорт")),d.createElement(je.a,{style:{display:"block",width:"initial",marginLeft:"20px"},label:this.props.i18n.t("Шаблон ссылки"),value:this.props.resource.uri,onChange:this.onFetchUriChanged,fullWidth:!0})))}}]),t}(d.Component);Dt=$t([m.autobind],Dt);var Wt,Mt=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Dt),Ht=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Lt=(Wt={},P()(Wt,g.ImportOperationResourceApiResource.$Type.value,function(e){return d.createElement(d.Fragment,null)}),P()(Wt,g.ImportOperationResourceFtpResource.$Type.value,function(e){return d.createElement(it,{resource:e})}),P()(Wt,g.ImportOperationResourceGMailResource.$Type.value,function(e){return d.createElement(ut,{resource:e})}),P()(Wt,g.ImportOperationResourceXeroResource.$Type.value,function(e){return d.createElement(mt,{resource:e})}),P()(Wt,g.ImportOperationResourceUriResource.$Type.value,function(e){return d.createElement(Mt,{resource:e})}),Wt),Nt=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"renderResourceSettings",value:function(){var e=this;return Object(q.b)(this.props.resource.tpe.value)(Lt).matchWith(function(t){return t(e.props.resource)},function(){throw"unknown operation resource type"})}},{key:"render",value:function(){return d.createElement(d.Fragment,null,d.createElement(Oe,{resource:this.props.resource}),this.renderResourceSettings())}}]),t}(d.Component);Nt=Ht([m.autobind],Nt);var zt=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Nt),At=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ut=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"render",value:function(){return d.createElement(d.Fragment,null,d.createElement(zt,{resource:this.props.fetch.resource}))}}]),t}(d.Component);Ut=At([m.autobind],Ut);var Gt=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Ut),Bt=n(1918),Xt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Kt=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onRepeatEnabledChanged",value:function(e,t){this.props.dispatch(Object(N.pb)(t))}},{key:"render",value:function(){return d.createElement(ne.a,{label:this.props.i18n.t("Активировать периодический импорт"),control:d.createElement(vt.a,{style:Ne.b,checked:this.props.repeat.enabled,onChange:this.onRepeatEnabledChanged,icon:d.createElement(bt.a,{style:Ne.a}),checkedIcon:d.createElement(Et.a,{style:Ne.a})})})}}]),t}(d.Component);Kt=Xt([m.autobind],Kt);var Vt=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Kt),Zt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Jt=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onRepeatLinkTemplateChanged",value:function(e){this.props.dispatch(Object(N.qb)(e.target.value))}},{key:"render",value:function(){return d.createElement(je.a,{fullWidth:!0,disabled:!this.props.repeat.enabled,label:this.props.i18n.t("Шаблон ссылки (вставьте %s для подстановки переменной времени)"),value:this.props.repeat.linkTemplate,onChange:this.onRepeatLinkTemplateChanged})}}]),t}(d.Component);Jt=Zt([m.autobind],Jt);var Yt=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Jt),Qt=n(162),en=n.n(Qt),tn=n(86),nn=n.n(tn),rn=n(418),on=n(209),an=n(262),cn=n(50),ln=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},un=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onRepeatTimeTemplateChanged",value:function(e){this.props.dispatch(Object(N.tb)(e.target.value))}},{key:"onRepeatTimeZoneChanged",value:function(e){this.props.dispatch(Object(N.ub)(e.target.value))}},{key:"onTimeFormatSelected",value:function(e){this.props.dispatch(Object(N.tb)(e))}},{key:"onTimeFormatIconClick",value:function(e){var t=this;this.props.openMenu(e.currentTarget,g.TimeFormats.map(function(e,n){return d.createElement(pt.a,{key:n,value:e.format,onClick:function(){return t.onTimeFormatSelected(e.format)}},Object(cn.S)(e.$Type.value,t.props.i18n.t))}))}},{key:"render",value:function(){return d.createElement("div",{style:{display:"flex"}},d.createElement("div",{style:{flex:"1 1 50%",paddingRight:"15px",boxSizing:"border-box",position:"relative"}},d.createElement(je.a,{fullWidth:!0,label:this.props.i18n.t("Шаблон переменной времени"),value:this.props.repeat.timeTemplate,onChange:this.onRepeatTimeTemplateChanged,disabled:!this.props.repeat.enabled,InputProps:{endAdornment:d.createElement(en.a,{position:"end"},d.createElement(Ct.a,{onClick:this.onTimeFormatIconClick,disabled:!this.props.repeat.enabled},d.createElement(nn.a,{style:{fontSize:20,cursor:"pointer",fill:"#9E9E9E"}})))}}),d.createElement(on.b,{toolTipContent:d.createElement("div",null,this.props.i18n.t("текст подсказки"))},d.createElement(Ct.a,{style:{position:"absolute",right:"0px",bottom:"10px",width:"15px",height:"15px",padding:0}},d.createElement(rn.a,null)))),d.createElement("div",{style:{flex:"1 1 50%",paddingLeft:"15px",boxSizing:"border-box"}},d.createElement(Fe.a,{fullWidth:!0},d.createElement($e.a,null,this.props.i18n.t("Часовой пояс")),d.createElement(_e.a,{native:!0,value:this.props.repeat.timezone.getOrElse(function(){return""}),onChange:this.onRepeatTimeZoneChanged,disabled:!this.props.repeat.enabled,fullWidth:!0},"   ",d.createElement("option",{value:""}),g.TimeZones.map(function(e,t){return d.createElement("option",{key:t,value:e.name.replace("GMT","")},e.name)})))))}}]),t}(d.Component);un=ln([m.autobind],un);var sn=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Object(an.a)(un)),pn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},fn=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onRepeatStartTimeChanged",value:function(e){this.props.dispatch(Object(N.rb)(new Date(parseInt(e.target.value))))}},{key:"render",value:function(){return d.createElement("div",{style:{display:"flex"}},d.createElement("div",{style:{flex:"1 1 auto",paddingRight:"15px",boxSizing:"border-box"}},d.createElement(je.a,{label:this.props.i18n.t("Стартовое время (timestamp)"),value:this.props.repeat.startTime.getTime(),onChange:this.onRepeatStartTimeChanged,disabled:!this.props.repeat.enabled,fullWidth:!0})),d.createElement("div",{style:{flex:"1 1 auto",paddingLeft:"15px",boxSizing:"border-box"}},d.createElement(je.a,{label:this.props.i18n.t("Преобразование в локальный временной пояс"),value:this.props.repeat.startTime.toLocaleString("en"===this.props.i18n.code?"en-US":"ru",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}),disabled:!this.props.repeat.enabled,fullWidth:!0})))}}]),t}(d.Component);fn=pn([m.autobind],fn);var dn=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(fn),hn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},mn=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onRepeatUpdateIntervalChanged",value:function(e){var t=parseInt(e.target.value);isNaN(t)||this.props.dispatch(Object(N.vb)(new g.Duration(t,g.TimeUnitType.Seconds)))}},{key:"onRepeatTimeShiftChanged",value:function(e){var t=parseInt(e.target.value);isNaN(t)||this.props.dispatch(Object(N.sb)(new g.Duration(t,g.TimeUnitType.Seconds)))}},{key:"render",value:function(){return d.createElement("div",{style:{display:"flex"}},d.createElement("div",{style:{flex:"1 1 auto",paddingRight:"15px",boxSizing:"border-box"}},d.createElement(je.a,{label:this.props.i18n.t("Период обновления (сек.)"),value:this.props.repeat.repeatInterval.getSeconds(),onChange:this.onRepeatUpdateIntervalChanged,disabled:!this.props.repeat.enabled,fullWidth:!0})),d.createElement("div",{style:{flex:"1 1 auto",paddingLeft:"15px",boxSizing:"border-box"}},d.createElement(je.a,{label:this.props.i18n.t("Сдвиг (сек.)"),value:this.props.repeat.shiftTime.getSeconds(),onChange:this.onRepeatTimeShiftChanged,disabled:!this.props.repeat.enabled,fullWidth:!0})))}}]),t}(d.Component);mn=hn([m.autobind],mn);var yn=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(mn),vn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},gn=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"render",value:function(){return d.createElement("div",null,d.createElement("h4",null,this.props.i18n.t("Периодический импорт из внешнего источника")),d.createElement("div",{style:{marginLeft:"20px"}},d.createElement(Vt,{repeat:this.props.repeat}),d.createElement(Yt,{repeat:this.props.repeat}),d.createElement(sn,{repeat:this.props.repeat}),d.createElement(dn,{repeat:this.props.repeat}),d.createElement(yn,{repeat:this.props.repeat})))}}]),t}(d.Component);gn=vn([m.autobind],gn);var bn,On=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(gn),En=n(197),jn=n(136),Cn=n(1599),Rn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},kn=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Pn=0,wn=(bn={},P()(bn,Pn,function(e){return d.createElement(d.Fragment,null,d.createElement(D.a,{readStage:e.params.readStage}),d.createElement(Z,{formId:e.formId,materialize:e.params.materialize}))}),P()(bn,1,function(e){return d.createElement(d.Fragment,null,d.createElement(Gt,{fetch:e.params.fetchStage}),d.createElement(On,{repeat:e.params.repeat.getOrElse(function(){return new En.e(!1,"","",(new Date).getTime(),new g.Duration(30,g.TimeUnitType.Minutes).duration,0)})}))}),P()(bn,2,function(e){return d.createElement(Bt.a,{formId:e.formId,format:e.params.formatStage,fetch:e.params.fetchStage,headers:[],initWithFirstField:!0,materialize:e.params.materialize,onHeadersDelete:function(){}})}),bn),Sn=function(e){function t(e){o()(this,t);var n=l()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedIndex:Pn},n}return s()(t,e),a()(t,[{key:"onSelected",value:function(e,t){this.setState(w(this.state,{selectedIndex:{$set:t}}))}},{key:"renderStage",value:function(){var e=this;return Object(q.b)(this.state.selectedIndex)(wn).map(function(t){return t(e.props)}).matchWith(function(e){return e},function(){throw"unknown selected index"})}},{key:"render",value:function(){return d.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:0}},d.createElement(I.a,{value:this.state.selectedIndex,onChange:this.onSelected,indicatorColor:"primary",textColor:"primary",fullWidth:!0},d.createElement(T.a,{value:Pn,label:this.props.i18n.t("Настройки")}),d.createElement(T.a,{value:1,label:this.props.i18n.t("Внешний импорт")}),d.createElement(T.a,{value:2,label:this.props.i18n.t("Поля данных")})),d.createElement($.a,null,d.createElement(x.a,{style:{padding:"10px"}},this.renderStage())))}}]),t}(d.Component);Sn=Rn([m.autobind,kn("design:paramtypes",[Object])],Sn);var Tn=Object(h.connect)(function(e,t){return{i18n:e.i18n,organisationId:e.organisation.organisationId}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Object(jn.a)(function(e){e.isTokenChecked&&e.organisationId.foreach(function(t){e.dispatch(Object(Cn.a)(t))})},function(){},function(e,t){e.isTokenChecked&&!t.isTokenChecked&&e.organisationId.foreach(function(t){e.dispatch(Object(Cn.a)(t))})})(Sn)),_n=n(29),In=n(68),Fn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},xn=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onFilesFieldChanged",value:function(e){var t=this;e.foreach(function(e){t.props.dispatch(Object(N.T)(e.value))})}},{key:"render",value:function(){return d.createElement(In.a,{fullWidth:!0,labelText:Object(pe.toOption)(this.props.i18n.t("Поле для сохранения")),fields:this.props.fields.getOrElse(function(){return[]}).filter(function(e){return e.entity.valueType.tpe===g.ValueTypeFileList.$Type}),errorText:this.props.fieldsError.map(function(e){return e.message}),value:g.Id.createId(this.props.hydrate.filesField),onChanged:this.onFilesFieldChanged})}}]),t}(d.Component);xn=Fn([m.autobind],xn);var $n=Object(h.connect)(function(e,t){return{i18n:e.i18n,fields:Object(_n.e)(e.fields,t.formId),fieldsError:Object(_n.f)(e.fields,t.formId)}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n&&e.fields===t.fields},areStatePropsEqual:function(e,t){return e.i18n===t.i18n&&Object(pe.isEqual)(e.fields,t.fields)&&Object(pe.isEqual)(e.fieldsError,t.fieldsError)}})(xn),qn=n(52),Dn=n.n(qn),Wn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Mn=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onIdentityFieldChanged",value:function(e){var t=this;e.foreach(function(e){t.props.dispatch(Object(N.U)(e.value))})}},{key:"render",value:function(){return d.createElement("div",null,d.createElement(In.a,{fullWidth:!0,labelText:Object(pe.toOption)(this.props.i18n.t("Поле для поиска по названию")),fields:this.props.fields.getOrElse(function(){return[]}).filter(function(e){return e.entity.valueType.tpe===g.ValueTypeStr.$Type}),errorText:this.props.fieldsError.map(function(e){return e.message}),value:g.Id.createId(this.props.hydrate.identityField),onChanged:this.onIdentityFieldChanged}),d.createElement(Dn.a,{variant:"caption",gutterBottom:!0,align:"left"},d.createElement("p",null,this.props.i18n.t("Поиск производится по соответствию строки в поле с именем файла без учета расширения.")),d.createElement("p",null,this.props.i18n.t("Для примера"),": ",this.props.i18n.t('если имя файла - FileName.jpg - в поле для поиска должна быть строка "FileName".'))))}}]),t}(d.Component);Mn=Wn([m.autobind],Mn);var Hn=Object(h.connect)(function(e,t){return{i18n:e.i18n,fields:Object(_n.e)(e.fields,t.formId),fieldsError:Object(_n.f)(e.fields,t.formId)}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n&&e.fields===t.fields},areStatePropsEqual:function(e,t){return e.i18n===t.i18n&&Object(pe.isEqual)(e.fields,t.fields)&&Object(pe.isEqual)(e.fieldsError,t.fieldsError)}})(Mn),Ln=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Nn=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onReplaceExistingToggled",value:function(e,t){this.props.dispatch(Object(N.V)())}},{key:"render",value:function(){return d.createElement("div",null,d.createElement(ne.a,{label:this.props.i18n.t("Заменять существующие файлы"),control:d.createElement(vt.a,{checked:this.props.hydrate.replaceExisting,onChange:this.onReplaceExistingToggled})}))}}]),t}(d.Component);Nn=Ln([m.autobind],Nn);var zn=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Nn),An=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Un=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onArchiveTypeChanged",value:function(e,t){this.props.dispatch(Object(N.M)(t))}},{key:"render",value:function(){return d.createElement("div",null,d.createElement("h4",null,this.props.i18n.t("Ручной импорт")),d.createElement(ne.a,{label:this.props.i18n.t("Файлы будут загружаться в архивах. Раскрывать архив при ручной загрузке?"),control:d.createElement(vt.a,{checked:this.props.fetch.archive,onChange:this.onArchiveTypeChanged})}),this.props.fetch.archive&&d.createElement(Dn.a,{variant:"caption",gutterBottom:!0,align:"left"},d.createElement("p",null,this.props.i18n.t("Обратите внимание, что архив должен содержать все файлы в корне архива. Использование папок не допускается.")),d.createElement("p",null,this.props.i18n.t("При формировании ZIP - архивов в WINDOWS допустимо использовать только латинские символы и цифры.")),d.createElement("p",null,this.props.i18n.t("Для наилучших результатов пожалуйста используйте формат 7z."))))}}]),t}(d.Component);Un=An([m.autobind],Un);var Gn=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Un),Bn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Xn=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Kn=function(e){function t(e){o()(this,t);var n=l()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={scriptEnabled:n.isScriptEnabled(e)},n}return s()(t,e),a()(t,[{key:"onEnableScriptChanged",value:function(e,t){this.setState(w(this.state,{$set:{scriptEnabled:t}}))}},{key:"onConversionScriptChanged",value:function(e){this.props.dispatch(Object(N.S)(e.target.value))}},{key:"isScriptEnabled",value:function(e){return e.hydrate.conversionScript.filter(function(e){return"function convert(fileName) {\r\n\treturn fileName;\r\n}"!==e}).nonEmpty()}},{key:"render",value:function(){return d.createElement("div",null,d.createElement(ne.a,{label:this.props.i18n.t("Использовать скрипт"),control:d.createElement(vt.a,{checked:this.state.scriptEnabled,onChange:this.onEnableScriptChanged})}),this.state.scriptEnabled&&d.createElement(je.a,{fullWidth:!0,style:{marginBottom:15},label:this.props.i18n.t("Скрипт преобразования названия файла"),onChange:this.onConversionScriptChanged,rows:5,rowsMax:10,multiline:!0,value:this.props.hydrate.conversionScript.getOrElse(function(){return"function convert(fileName) {\r\n\treturn fileName;\r\n}"})}))}}]),t}(d.Component);Kn=Bn([m.autobind,Xn("design:paramtypes",[Object])],Kn);var Vn=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Kn),Zn=n(184),Jn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Yn=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"render",value:function(){return d.createElement("div",null,d.createElement("h4",null,this.props.i18n.t("Поиск и сохранение")),d.createElement("div",null,d.createElement($n,{formId:this.props.formId,hydrate:this.props.hydrate}),d.createElement(Hn,{formId:this.props.formId,hydrate:this.props.hydrate}),d.createElement(zn,{hydrate:this.props.hydrate}),this.props.fetch instanceof Zn.a&&d.createElement(Gn,{fetch:this.props.fetch}),d.createElement(Vn,{hydrate:this.props.hydrate})))}}]),t}(d.Component);Yn=Jn([m.autobind],Yn);var Qn,er=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Yn),tr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},nr=(Qn={},P()(Qn,g.FileFetchStageDummy.$Type.value,function(){return new Zn.a}),P()(Qn,g.FileFetchStageFtpFolder.$Type.value,function(){return new Zn.c("","","")}),P()(Qn,g.FileFetchStageFtpFile.$Type.value,function(){return new Zn.b("","","")}),P()(Qn,g.FileFetchStageUrlArchive.$Type.value,function(){return new Zn.d("")}),Qn),rr=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onFetchStageTypeChanged",value:function(e,t){var n=this;Object(q.b)(t)(nr).map(function(e){return e()}).matchWith(function(e){n.props.dispatch(Object(N.Q)(e))},function(){throw"unknown import type"})}},{key:"render",value:function(){return d.createElement("div",null,d.createElement("h4",null,this.props.i18n.t("Тип импорта")),d.createElement("div",{style:{padding:"20px"}},d.createElement(ee.a,{name:"fetchType",onChange:this.onFetchStageTypeChanged,value:this.props.fetch.tpe.value},d.createElement(ne.a,{control:d.createElement(Y.a,null),label:this.props.i18n.t("Локальный"),value:g.FileFetchStageDummy.$Type.value}),d.createElement(ne.a,{control:d.createElement(Y.a,null),label:this.props.i18n.t("FTP папка"),value:g.FileFetchStageFtpFolder.$Type.value}),d.createElement(ne.a,{control:d.createElement(Y.a,null),label:this.props.i18n.t("FTP файл"),value:g.FileFetchStageFtpFile.$Type.value}),d.createElement(ne.a,{control:d.createElement(Y.a,null),label:this.props.i18n.t("Ссылка на архив"),value:g.FileFetchStageUrlArchive.$Type.value}))))}}]),t}(d.Component);rr=tr([m.autobind],rr);var or=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(rr),ir=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ar=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onFTPLoginChanged",value:function(e){this.props.dispatch(Object(N.N)(e.target.value))}},{key:"onFTPPasswordChanged",value:function(e){this.props.dispatch(Object(N.O)(e.target.value))}},{key:"onFTPPathChanged",value:function(e){this.props.dispatch(Object(N.P)(e.target.value))}},{key:"render",value:function(){return d.createElement("div",null,d.createElement("h4",null,this.props.i18n.t("Авторизация")),d.createElement("div",{style:{paddingLeft:"20px"}},d.createElement(je.a,{fullWidth:!0,value:this.props.fetch.login,placeholder:this.props.i18n.t("Логин"),onChange:this.onFTPLoginChanged}),d.createElement(je.a,{fullWidth:!0,type:"password",value:this.props.fetch.password,placeholder:this.props.i18n.t("Пароль"),onChange:this.onFTPPasswordChanged}),d.createElement(je.a,{fullWidth:!0,value:this.props.fetch.path,placeholder:this.props.i18n.t("Путь"),onChange:this.onFTPPathChanged})))}}]),t}(d.Component);ar=ir([m.autobind],ar);var cr=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(ar),lr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ur=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onArchiveURIChanged",value:function(e){this.props.dispatch(Object(N.R)(e.target.value))}},{key:"render",value:function(){return d.createElement("div",{style:{padding:"20px"}},d.createElement(je.a,{fullWidth:!0,value:this.props.fetch.uri,placeholder:this.props.i18n.t("URI"),onChange:this.onArchiveURIChanged}))}}]),t}(d.Component);ur=lr([m.autobind],ur);var sr=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(ur),pr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},fr=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"render",value:function(){return d.createElement("div",null,d.createElement(or,{fetch:this.props.fetch}),(this.props.fetch instanceof Zn.b||this.props.fetch instanceof Zn.c)&&d.createElement(cr,{fetch:this.props.fetch}),this.props.fetch instanceof Zn.d&&d.createElement(sr,{fetch:this.props.fetch}))}}]),t}(d.Component);fr=pr([m.autobind],fr);var dr=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(fr),hr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},mr=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onEnabledToggled",value:function(e,t){this.props.dispatch(Object(N.W)())}},{key:"render",value:function(){return d.createElement(ne.a,{label:this.props.i18n.t("Активировать периодический импорт"),control:d.createElement(vt.a,{checked:this.props.scheduler.map(function(e){return e.enabled}).getOrElse(function(){return!1}),onChange:this.onEnabledToggled})})}}]),t}(d.Component);mr=hr([m.autobind],mr);var yr=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(mr),vr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},gr=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onRepeatIntervalChanged",value:function(e){var t=parseInt(e.target.value);isNaN(t)||this.props.dispatch(Object(N.X)(new g.Duration(t,g.TimeUnitType.Seconds)))}},{key:"onShiftTimeChanged",value:function(e){var t=parseInt(e.target.value);isNaN(t)||this.props.dispatch(Object(N.Y)(new g.Duration(t,g.TimeUnitType.Seconds)))}},{key:"render",value:function(){return d.createElement("div",{style:{display:"flex"}},d.createElement(je.a,{fullWidth:!0,style:{flex:"1 1 auto",marginRight:"5px"},label:this.props.i18n.t("Период обновления (сек.)"),value:this.props.scheduler.repeatInterval.getSeconds(),onChange:this.onRepeatIntervalChanged}),d.createElement(je.a,{fullWidth:!0,style:{flex:"1 1 auto",marginLeft:"5px"},label:this.props.i18n.t("Сдвиг (сек.)"),value:this.props.scheduler.shiftTime.getSeconds(),onChange:this.onShiftTimeChanged}))}}]),t}(d.Component);gr=vr([m.autobind],gr);var br=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(gr),Or=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Er=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"render",value:function(){return d.createElement("div",{style:{paddingLeft:"20px"}},d.createElement(yr,{scheduler:this.props.schedular}),this.props.schedular.filter(function(e){return e.enabled}).map(function(e){return d.createElement(br,{scheduler:e})}).getOrNull())}}]),t}(d.Component);Er=Or([m.autobind],Er);var jr,Cr=Object(h.connect)(function(e,t){return{i18n:e.i18n}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Er),Rr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},kr=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Pr=0,wr=(jr={},P()(jr,Pr.toString(),function(e){return d.createElement(er,{formId:e.formId,fetch:e.params.fetchStage,hydrate:e.params.hydrationStage})}),P()(jr,1..toString(),function(e){return d.createElement("div",null,d.createElement(dr,{fetch:e.params.fetchStage}),d.createElement(Cr,{schedular:e.params.schedulerStage}))}),jr),Sr=function(e){function t(e){o()(this,t);var n=l()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedIndex:Pr},n}return s()(t,e),a()(t,[{key:"onSelected",value:function(e,t){this.setState(w(this.state,{selectedIndex:{$set:t}}))}},{key:"renderStage",value:function(){var e=this;return Object(q.b)(this.state.selectedIndex.toString())(wr).map(function(t){return t(e.props)}).matchWith(function(e){return e},function(){throw"unknown selected index"})}},{key:"render",value:function(){return d.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:0}},d.createElement(I.a,{value:this.state.selectedIndex,onChange:this.onSelected,indicatorColor:"primary",textColor:"primary",fullWidth:!0},d.createElement(T.a,{value:Pr,label:this.props.i18n.t("Настройки")}),",",d.createElement(T.a,{value:1,label:this.props.i18n.t("Внешний / Периодический")}),","),d.createElement($.a,null,d.createElement(x.a,{style:{padding:"10px"}},this.renderStage())))}}]),t}(d.Component);Sr=Rr([m.autobind,kr("design:paramtypes",[Object])],Sr);var Tr,_r=Object(h.connect)(function(e,t){return{i18n:e.i18n,importPipelineEditor:e.importPipelineEditor}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n},areStatePropsEqual:function(e,t){return e.i18n===t.i18n}})(Sr),Ir=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Fr=(Tr={},P()(Tr,g.ImportParamsFileStages.$Type.value,function(e,t){return d.createElement(_r,{formId:e,params:t})}),P()(Tr,g.ImportParamsFormDataStages.$Type.value,function(e,t){return d.createElement(Tn,{formId:e,params:t})}),Tr),xr=function(e){function t(){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"render",value:function(){var e=this;return this.props.importPipelineEditor.params.flatMap(function(t){return Object(q.b)(t.tpe.value)(Fr).map(function(n){return n(e.props.formId,t)})}).getOrNull()}}]),t}(d.Component);xr=Ir([m.autobind],xr);var $r=Object(h.connect)(function(e,t){return{i18n:e.i18n,importPipelineEditor:e.importPipelineEditor}},function(e,t){return{dispatch:e}},function(e,t,n){return Object.assign({},e,n,t)},{areStatesEqual:function(e,t){return e.i18n===t.i18n&&e.importPipelineEditor===t.importPipelineEditor},areStatePropsEqual:function(e,t){return e.i18n===t.i18n&&e.importPipelineEditor===t.importPipelineEditor}})(xr),qr=n(1883),Dr=n(1494),Wr=n(1461),Mr=n(71),Hr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Lr=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":f()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Nr=function(e){function t(e){return o()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object.assign(j.a.screenInitialState(),{paramsType:-1!==location.href.indexOf("/importFiles/")?g.ImportParamsFileStages.$Type.value:g.ImportParamsFormDataStages.$Type.value})))}return s()(t,e),a()(t,[{key:"onSaveRequested",value:function(){var e=this;this.props.dispatch(function(e,t){return t().importPipelineEditor.record.flatMap(function(n){return t().importPipelineEditor.params.map(function(t){return Object(O.h)(w(n,{entity:{params:{$set:Object(qr.a)(t)}}})).then(function(t){return e(Object(O.c)(t.id)).then(function(t){return e(Object(N.ib)(t.record)),t.record})})})}).getOrElse(function(){return new Promise(function(e,t){return t()})})}).then(function(){e.props.dispatch(Object(Mr.h)(e.props.i18n.t("Конфигурация импорта сохранена!"))),e.props.dispatch(Object(Dr.a)(new g.Id(e.props.params.formId)))})}},{key:"renderNavigation",value:function(){return d.createElement(C.a,null)}},{key:"onGoBackRequested",value:function(){switch(this.state.paramsType){case g.ImportParamsFormDataStages.$Type.value:this.props.dispatch(Object(E.P)(new g.Id(this.props.params.eventLineId),new g.Id(this.props.params.formTypeId),new g.Id(this.props.params.formId)));break;case g.ImportParamsFileStages.$Type.value:this.props.dispatch(Object(E.O)(new g.Id(this.props.params.eventLineId),new g.Id(this.props.params.formTypeId),new g.Id(this.props.params.formId)));break;default:throw new Error("unsupported import params type")}}},{key:"render",value:function(){return this.renderScreenBody({className:"importPipelinesPage"},d.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:0}},d.createElement(R.a,{title:this.props.i18n.t("Конфигурация импорта"),onGoBackRequested:this.onGoBackRequested,rightButtonGroup:[d.createElement(v.a,{variant:"raised",style:{margin:"0px 15px",flexShrink:0},onClick:this.onSaveRequested,color:"primary"},this.props.i18n.t("Сохранить"))]}),d.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:0}},d.createElement($r,{formId:g.Id.createId(this.props.params.formId).getOrElse(function(){throw"wrong form id"})}))))}}]),t}(j.a);Nr=Hr([m.autobind,Lr("design:paramtypes",[Object])],Nr);t.default=Object(h.connect)(function(e){return{i18n:e.i18n}})(Object(Wr.a)(Object(jn.a)(function(e){e.isTokenChecked&&(e.dispatch(Object(b.c)(new g.Id(e.params.formId))),e.dispatch(Object(O.c)(new g.Id(e.params.importPipelineId))).then(function(t){e.dispatch(Object(N.ib)(t.record))}))},function(){},function(e,t){e.isTokenChecked&&!t.isTokenChecked&&(e.dispatch(Object(b.c)(new g.Id(e.params.formId))),e.dispatch(Object(O.c)(new g.Id(e.params.importPipelineId))).then(function(t){e.dispatch(Object(N.ib)(t.record))}))})(Nr)))}}]);