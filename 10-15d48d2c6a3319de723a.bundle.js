(window.webpackJsonpwww=window.webpackJsonpwww||[]).push([[10],{1480:function(t,e,n){t.exports=n(97)(3)},1489:function(t,e,n){t.exports=n(97)(462)},1520:function(t,e,n){t.exports=n(97)(211)},1574:function(t,e,n){t.exports=n(97)(9)},1575:function(t,e,n){t.exports=n(97)(181)},1576:function(t,e,n){t.exports=n(97)(62)},1578:function(t,e,n){t.exports=n(97)(221)},1579:function(t,e,n){t.exports=n(97)(198)},1617:function(t,e,n){t.exports=n(97)(76)},1618:function(t,e,n){t.exports=n(97)(40)},1628:function(t,e,n){t.exports=n(97)(75)},1629:function(t,e,n){t.exports=n(97)(117)},1630:function(t,e,n){t.exports=n(97)(121)},1631:function(t,e,n){t.exports=n(97)(15)},1634:function(t,e,n){t.exports=n(97)(85)},1776:function(t,e,n){t.exports=n(97)(518)},1778:function(t,e,n){t.exports=n(97)(201)},1779:function(t,e,n){t.exports=n(97)(531)},1780:function(t,e,n){t.exports=n(97)(122)},1781:function(t,e,n){t.exports=n(97)(652)},1782:function(t,e,n){t.exports=n(97)(613)},1783:function(t,e,n){t.exports=n(97)(560)},1786:function(t,e,n){t.exports=n(97)(129)},1787:function(t,e,n){t.exports=n(97)(197)},1788:function(t,e,n){t.exports=n(97)(86)},1790:function(t,e,n){t.exports=n(97)(551)},1791:function(t,e,n){t.exports=n(97)(553)},1797:function(t,e,n){t.exports=n(97)(514)},1799:function(t,e,n){t.exports=n(97)(61)},1802:function(t,e,n){t.exports=n(97)(44)},1849:function(t,e,n){var r={"./af":1635,"./af.js":1635,"./ar":1636,"./ar-dz":1637,"./ar-dz.js":1637,"./ar-kw":1638,"./ar-kw.js":1638,"./ar-ly":1639,"./ar-ly.js":1639,"./ar-ma":1640,"./ar-ma.js":1640,"./ar-sa":1641,"./ar-sa.js":1641,"./ar-tn":1642,"./ar-tn.js":1642,"./ar.js":1636,"./az":1643,"./az.js":1643,"./be":1644,"./be.js":1644,"./bg":1645,"./bg.js":1645,"./bm":1646,"./bm.js":1646,"./bn":1647,"./bn.js":1647,"./bo":1648,"./bo.js":1648,"./br":1649,"./br.js":1649,"./bs":1650,"./bs.js":1650,"./ca":1651,"./ca.js":1651,"./cs":1652,"./cs.js":1652,"./cv":1653,"./cv.js":1653,"./cy":1654,"./cy.js":1654,"./da":1655,"./da.js":1655,"./de":1656,"./de-at":1657,"./de-at.js":1657,"./de-ch":1658,"./de-ch.js":1658,"./de.js":1656,"./dv":1659,"./dv.js":1659,"./el":1660,"./el.js":1660,"./en-SG":1661,"./en-SG.js":1661,"./en-au":1662,"./en-au.js":1662,"./en-ca":1663,"./en-ca.js":1663,"./en-gb":1664,"./en-gb.js":1664,"./en-ie":1665,"./en-ie.js":1665,"./en-il":1666,"./en-il.js":1666,"./en-nz":1667,"./en-nz.js":1667,"./eo":1668,"./eo.js":1668,"./es":1669,"./es-do":1670,"./es-do.js":1670,"./es-us":1671,"./es-us.js":1671,"./es.js":1669,"./et":1672,"./et.js":1672,"./eu":1673,"./eu.js":1673,"./fa":1674,"./fa.js":1674,"./fi":1675,"./fi.js":1675,"./fo":1676,"./fo.js":1676,"./fr":1677,"./fr-ca":1678,"./fr-ca.js":1678,"./fr-ch":1679,"./fr-ch.js":1679,"./fr.js":1677,"./fy":1680,"./fy.js":1680,"./ga":1681,"./ga.js":1681,"./gd":1682,"./gd.js":1682,"./gl":1683,"./gl.js":1683,"./gom-latn":1684,"./gom-latn.js":1684,"./gu":1685,"./gu.js":1685,"./he":1686,"./he.js":1686,"./hi":1687,"./hi.js":1687,"./hr":1688,"./hr.js":1688,"./hu":1689,"./hu.js":1689,"./hy-am":1690,"./hy-am.js":1690,"./id":1691,"./id.js":1691,"./is":1692,"./is.js":1692,"./it":1693,"./it-ch":1694,"./it-ch.js":1694,"./it.js":1693,"./ja":1695,"./ja.js":1695,"./jv":1696,"./jv.js":1696,"./ka":1697,"./ka.js":1697,"./kk":1698,"./kk.js":1698,"./km":1699,"./km.js":1699,"./kn":1700,"./kn.js":1700,"./ko":1701,"./ko.js":1701,"./ku":1702,"./ku.js":1702,"./ky":1703,"./ky.js":1703,"./lb":1704,"./lb.js":1704,"./lo":1705,"./lo.js":1705,"./lt":1706,"./lt.js":1706,"./lv":1707,"./lv.js":1707,"./me":1708,"./me.js":1708,"./mi":1709,"./mi.js":1709,"./mk":1710,"./mk.js":1710,"./ml":1711,"./ml.js":1711,"./mn":1712,"./mn.js":1712,"./mr":1713,"./mr.js":1713,"./ms":1714,"./ms-my":1715,"./ms-my.js":1715,"./ms.js":1714,"./mt":1716,"./mt.js":1716,"./my":1717,"./my.js":1717,"./nb":1718,"./nb.js":1718,"./ne":1719,"./ne.js":1719,"./nl":1720,"./nl-be":1721,"./nl-be.js":1721,"./nl.js":1720,"./nn":1722,"./nn.js":1722,"./pa-in":1723,"./pa-in.js":1723,"./pl":1724,"./pl.js":1724,"./pt":1725,"./pt-br":1726,"./pt-br.js":1726,"./pt.js":1725,"./ro":1727,"./ro.js":1727,"./ru":1728,"./ru.js":1728,"./sd":1729,"./sd.js":1729,"./se":1730,"./se.js":1730,"./si":1731,"./si.js":1731,"./sk":1732,"./sk.js":1732,"./sl":1733,"./sl.js":1733,"./sq":1734,"./sq.js":1734,"./sr":1735,"./sr-cyrl":1736,"./sr-cyrl.js":1736,"./sr.js":1735,"./ss":1737,"./ss.js":1737,"./sv":1738,"./sv.js":1738,"./sw":1739,"./sw.js":1739,"./ta":1740,"./ta.js":1740,"./te":1741,"./te.js":1741,"./tet":1742,"./tet.js":1742,"./tg":1743,"./tg.js":1743,"./th":1744,"./th.js":1744,"./tl-ph":1745,"./tl-ph.js":1745,"./tlh":1746,"./tlh.js":1746,"./tr":1747,"./tr.js":1747,"./tzl":1748,"./tzl.js":1748,"./tzm":1749,"./tzm-latn":1750,"./tzm-latn.js":1750,"./tzm.js":1749,"./ug-cn":1751,"./ug-cn.js":1751,"./uk":1752,"./uk.js":1752,"./ur":1753,"./ur.js":1753,"./uz":1754,"./uz-latn":1755,"./uz-latn.js":1755,"./uz.js":1754,"./vi":1756,"./vi.js":1756,"./x-pseudo":1757,"./x-pseudo.js":1757,"./yo":1758,"./yo.js":1758,"./zh-cn":1759,"./zh-cn.js":1759,"./zh-hk":1760,"./zh-hk.js":1760,"./zh-tw":1761,"./zh-tw.js":1761};function o(t){var e=s(t);return n(e)}function s(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}o.keys=function(){return Object.keys(r)},o.resolve=s,t.exports=o,o.id=1849},1850:function(t,e,n){t.exports=n(97)(18)},1851:function(t,e,n){t.exports=n(97)(49)},1852:function(t,e,n){t.exports=n(97)(97)},1855:function(t,e,n){t.exports=n(97)(148)},1875:function(t,e,n){t.exports=n(97)(63)},1877:function(t,e,n){t.exports=n(97)(26)},1878:function(t,e,n){t.exports=n(97)(525)},1995:function(t,e,n){"use strict";var r=n(1),o=n(643),s=n(1996),i=n(1845),a=n(1844),u=n(558),l=n(1997);e.a=function(t,e,n){switch(n.tpe.value){case r.TimeUnitMilliseconds.$Type.value:return Object(o.a)(t,e);case r.TimeUnitSeconds.$Type.value:return Object(s.a)(t,e);case r.TimeUnitMinutes.$Type.value:return Object(i.a)(t,e);case r.TimeUnitHours.$Type.value:return Object(a.a)(t,e);case r.TimeUnitDays.$Type.value:return Object(u.a)(t,e);case r.TimeUnitWeeks.$Type.value:return Object(l.a)(t,e);default:throw"unknown time unit type"}}},2737:function(t,e,n){"use strict";n.r(e);var r=n(6),o=n.n(r),s=n(10),i=n.n(s),a=n(7),u=n.n(a),l=n(8),c=n.n(l),p=n(2),f=n(14),d=n(11),j=n.n(d),b=n(13),h=n(1885),y=n(1451),m=n(308),O=n(165),v=n(677),k=n(349),g=n(605),I=n(1),w=n(1452),x=n(83),E=n(29),C=n(621),R=n(215),T=n(0),F=n(50),D=n(1995),M=n(264),z=n(1533),S=n(1458),U=(n(1879),n(1881),function(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":j()(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}),q=function(t,e){if("object"===("undefined"==typeof Reflect?"undefined":j()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},B=h.a.momentLocalizer(y),_={flex:"1"},H=function(t){function e(t){o()(this,e);var n=u()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=new Date;return n.state={start:new Date(r.getFullYear(),r.getMonth(),1),end:new Date(r.getFullYear(),r.getMonth()+1,0)},n}return c()(e,t),i()(e,[{key:"componentDidMount",value:function(){this.initInputs(this.props,this.state)}},{key:"componentDidUpdate",value:function(t,e){this.state.start===e.start&&this.state.end===e.end||this.initInputs(this.props,this.state)}},{key:"initInputs",value:function(t,e){t.formId.foreach(function(n){t.dispatch(function(t,e,n,r){return function(o,s){e.dataInput.foreach(function(i){Object(E.b)(s().fields,n,i.formField).foreach(function(n){return Object(T.headOption)(s().forms.list.filter(function(t){return t.id.value===n.entity.valueType.family.value})).foreach(function(a){if(I.FormType.isAnyDictionary(a.entity.formType))o(Object(S.f)(t,n,e,i));else{var u=e.control.flatMap(function(t){return t.date}).map(function(t){return new I.FilterGroupCondition([new I.FilterCondition(t,new I.FilterExpressionGt,new I.ValueDate(r.start.getTime())),new I.FilterCondition(t,new I.FilterExpressionLt,new I.ValueDate(r.end.getTime()))],new I.FilterPredicateAnd)});Object(M.a)(n.entity.valueType.family,u).then(function(t){return o(Object(z.a)(e,i,n.entity.formId,n,t.list,t.list.length,s().i18n.t))}).catch(function(t){return console.error("Failed to resolve input data",t)})}})})})}}(t.blockRendererId,t.display,n,e))})}},{key:"handleArrayRange",value:function(t){var e=this;Object(T.toOption)(t).filter(function(t){return 1===t.length}).matchWith(function(t){return Object(T.headOption)(t).foreach(function(t){return e.setState({start:t,end:t})})},function(){return Object(T.headOption)(t).foreach(function(n){return Object(T.headOption)(Object(m.a)(t)).foreach(function(t){return e.setState({start:n,end:t})})})})}},{key:"handleObjectRange",value:function(t){var e=this;Object(T.toOption)(t.start).foreach(function(n){return Object(T.toOption)(t.end).foreach(function(t){return e.setState({start:n,end:t})})})}},{key:"rangeChangeHandler",value:function(t){var e=this;Object(T.toOption)(t).filter(function(t){return Array.isArray(t)}).matchWith(function(t){return e.handleArrayRange(t)},function(){return e.handleObjectRange(t)})}},{key:"onBlur",value:function(){this.props.onControlBlur()}},{key:"getDateFormFieldId",value:function(){return this.props.control.date}},{key:"getStartTimeFormFieldId",value:function(){return this.props.control.startTime}},{key:"getDurationFormFieldId",value:function(){return this.props.control.duration}},{key:"getLabelFormFieldId",value:function(){return this.props.control.label}},{key:"getDuration",value:function(t,e){var n=this;return Object(T.liftKey)(t,e.value).map(function(t){return Object(F.V)(t.value,n.getTimeUnit())})}},{key:"getTimeUnit",value:function(){return Object(T.headOption)(this.props.intervalElements).flatMap(function(t){return t.control.map(function(t){return t.inputType.timeUnit})}).getOrElse(function(){return new I.TimeUnitMinutes})}},{key:"getEvents",value:function(){var t=this;return this.props.dataInput.map(function(e){return e.displayValues.map(function(n){var r=Object(T.headOption)(e.formRecords.filter(function(t){return t.id.value===n.id.value})).map(function(t){return t.entity.values}),o=t.getLabelFormFieldId().flatMap(function(t){return r.flatMap(function(e){return Object(T.liftKey)(e,t.value)})}).map(function(t){return t.value.toString()}).getOrElse(function(){return""}),s=t.getDateFormFieldId().flatMap(function(t){return r.flatMap(function(e){return Object(T.liftKey)(e,t.value)})}).map(function(t){return t.value.value}).getOrElse(function(){return new Date(0)}),i=t.getStartTimeFormFieldId().flatMap(function(t){return r.flatMap(function(e){return Object(T.liftKey)(e,t.value)})}).map(function(t){return t.value.value}).getOrElse(function(){return new Date}),a=t.getDurationFormFieldId().flatMap(function(e){return r.flatMap(function(n){return t.getDuration(n,e)})}),u=Object(O.a)(s,"MM/dd/yyyy",{awareOfUnicodeTokens:!0}),l=Object(O.a)(i,"HH:mm",{awareOfUnicodeTokens:!0}),c=Object(v.a)(u+" "+l,"MM/dd/yyyy HH:mm",new Date(0),{awareOfUnicodeTokens:!0});return a.isEmpty()?{start:Object(k.a)(s),end:Object(g.a)(s),title:o}:{start:c,end:Object(D.a)(c,a.getOrElse(function(){return 1440}),t.getTimeUnit()),title:o}})}).getOrElse(function(){return[]}).filter(function(t){return t.start.getFullYear()!==new Date(0).getFullYear()})}},{key:"render",value:function(){var t=this.props.display.elementCss.flatMap(function(t){return t.proportions.flatMap(function(t){return t.height})}).getOrElse(function(){return"300px"});return p.createElement(w.a,{display:this.props.display,style:_,blockStyle:this.props.blockStyle},p.createElement("div",{style:{height:t}},p.createElement(h.a,{localizer:B,defaultDate:new Date,defaultView:h.a.Views.MONTH,events:this.getEvents(),onRangeChange:this.rangeChangeHandler})))}}]),e}(p.Component);H=U([b.autobind,q("design:paramtypes",[Object])],H);var P=Object(f.connect)(function(t,e){return{field:e.formId.flatMap(function(n){return Object(E.d)(t,n,e.input.formField)}),value:Object(R.k)(t.dataOutput,e.blockRendererId,e.output).map(function(t){return t.value}).filter(function(t){return t instanceof I.ValueObjectRefs||t instanceof I.ValueBool}),dataInput:Object(C.b)(t.dataInputs,e.display.id),error:Object(R.m)(t.dataOutput,e.blockRendererId,e.display.id),i18n:t.i18n}},function(t,e){return{dispatch:t}},function(t,e,n){return Object.assign({},t,e,n)},{areStatesEqual:function(t,e){return t.i18n===e.i18n&&t.dataInputs.input===e.dataInputs.input&&t.dataOutput===e.dataOutput&&t.fields.list===e.fields.list},areOwnPropsEqual:function(t,e){return Object(T.isEqual)(t.formId,e.formId)&&t.display===e.display&&t.blockRendererId===e.blockRendererId&&t.blockStyle===e.blockStyle&&t.output===e.output&&t.input===e.input&&t.onChange===e.onChange&&t.onControlBlur===e.onControlBlur},areStatePropsEqual:function(t,e){return Object(T.isEqual)(t.field,e.field)&&Object(T.isEqual)(t.value,e.value)&&Object(T.isEqual)(t.dataInput,e.dataInput)&&Object(T.isEqual)(t.error,e.error)&&t.i18n===e.i18n}})(Object(x.a)(H)),V=n(1455),A=n(1453),$=n(620),L=n(372),G=function(t){function e(){return o()(this,e),u()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c()(e,t),i()(e,[{key:"renderDisplayControl",value:function(){var t=this;return this.props.display.dataInput.map(function(e){return p.createElement(P,{display:t.props.display,blockRendererId:t.props.blockRendererId,blockId:t.props.blockId,parentRecordId:t.props.parentRecordId,control:t.props.control,input:e,output:t.props.output,formId:t.props.formId,onControlBlur:t.props.onControlBlur,onChange:t.props.onChange,blockStyle:t.props.blockStyle,intervalElements:[]})}).getOrElse(function(){return p.createElement("div",null,t.props.i18n.t("Не задано поле поставщик данных"))})}},{key:"renderEditControl",value:function(){var t=this;return this.props.display.dataInput.map(function(e){return p.createElement(P,{display:t.props.display,blockRendererId:t.props.blockRendererId,blockId:t.props.blockId,parentRecordId:t.props.parentRecordId,control:t.props.control,input:e,output:t.props.output,formId:t.props.formId,onControlBlur:t.props.onControlBlur,onChange:t.props.onChange,blockStyle:t.props.blockStyle,intervalElements:[]})}).getOrElse(function(){return p.createElement("div",null,t.props.i18n.t("Не задано поле поставщик данных"))})}},{key:"renderEditByClickControl",value:function(){return p.createElement(V.a,{display:this.props.display,blockRendererId:this.props.blockRendererId,output:this.props.output,displayComponent:this.renderDisplayControl(),editComponent:this.renderEditControl(),onChange:this.props.onChange})}}]),e}(A.a),K=function(t,e){return Object(T.isEqual)(t.formId,e.formId)&&Object(T.isEqual)(t.blockStyle,e.blockStyle)&&t.display===e.display&&t.blockType.tpe.value===e.blockType.tpe.value&&t.blockRendererId===e.blockRendererId&&t.blockStyle===e.blockStyle&&t.output===e.output&&t.onChange===e.onChange&&t.onControlBlur===e.onControlBlur};e.default=Object(f.connect)(function(t,e){return{i18n:t.i18n,initialDictionaries:Object(L.f)(t.blockRendererContext,e.blockRendererId)}},function(t){return{dispatch:function(e){return t(e)}}},function(t,e,n){return Object.assign({},t,e,n)},{areStatesEqual:function(t,e){return t.i18n===e.i18n&&t.blockRendererContext===e.blockRendererContext},areOwnPropsEqual:K})(Object($.a)([],[],[],[],function(t,e){return!K(t,e)&&t.i18n!==e.i18n})(G))}}]);