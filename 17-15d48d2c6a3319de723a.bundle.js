(window.webpackJsonpwww=window.webpackJsonpwww||[]).push([[17],{1459:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c});var i=n(79),r=n(104),o=n(82),a=function(){return function(e,t){return e(o.default.isA5000?Object(i.Mb)():Object(i.h)())}},c=function(e,t){return function(n,o){return o().eventLine.data.foreach(function(a){Object(r.e)(o().forms,e).foreach(function(r){n(Object(i.H)(a.id,r.entity.formType.getFormTypeId(),e,t))})})}}},1461:function(e,t,n){"use strict";var i=n(6),r=n.n(i),o=n(10),a=n.n(o),c=n(7),u=n.n(c),l=n(8),s=n.n(l),p=n(2),d=n(14),f=n(1469),h=n(1459),m=n(320),g=n(69),v=n(0),y=n(624);t.a=function(e){return Object(d.connect)(function(e){return{auth:e.auth,websocket:e.websocket,routing:e.routing}})(function(e){return function(t){function n(){return r()(this,n),u()(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s()(n,t),a()(n,[{key:"componentWillMount",value:function(){var e=this;this.props.auth.signedOut||this.props.websocket.active&&(this.props.auth.checking||this.props.auth.checked&&this.props.auth.signedIn||this.props.auth.signingIn||this.props.auth.signedIn||Object(v.toOption)(this.props.routing.location).map(function(t){Object(v.liftKey)(Object(y.a)(t.search),"token").map(function(t){t.map(function(t){e.props.dispatch(Object(f.d)(t)).catch(function(t){e.signOut()})})}).getOrElse(function(){e.props.auth.token.map(function(t){e.props.dispatch(Object(f.d)(t)).catch(function(t){e.signOut()})}).getOrElse(function(){e.signOut()})})}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.auth.signedOut||e.websocket.active&&(e.auth.checking||(e.auth.checked&&e.auth.signedIn||e.auth.signingIn||e.auth.signedIn)&&(!e.websocket.active||this.props.websocket.active)||e.auth.token.map(function(n){e.dispatch(Object(f.d)(n)).catch(function(e){t.signOut()})}).getOrElse(function(){t.signOut()}))}},{key:"signOut",value:function(){this.props.dispatch(Object(g.r)()),this.props.dispatch(Object(m.c)()),this.props.dispatch(Object(h.b)())}},{key:"render",value:function(){return this.props.auth.signedIn&&!this.props.auth.signingIn?p.createElement(e,this.props):p.createElement("div",null)}}]),n}(p.Component)}(e))}},1462:function(e,t,n){"use strict";var i=n(855);Object.defineProperty(t,"__esModule",{value:!0});var r={};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=i(n(1464));Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))})},1463:function(e,t,n){"use strict";var i=n(855),r=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(36)),a=r(n(2)),c=(r(n(31)),i(n(1462))),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.breakpoint,i=void 0===n?"sm":n;return(0,c.default)()(function(e){return a.default.createElement(t,(0,o.default)({fullScreen:(0,c.isWidthDown)(i,e.width)},e))})}};t.default=u},1464:function(e,t,n){"use strict";var i=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isWidthDown=t.isWidthUp=void 0;var r=i(n(36)),o=i(n(39)),a=i(n(73)),c=i(n(74)),u=i(n(76)),l=i(n(77)),s=i(n(78)),p=i(n(2)),d=(i(n(31)),i(n(217))),f=i(n(373)),h=(n(61),i(n(539))),m=i(n(263)),g=n(859),v=i(n(860));t.isWidthUp=function(e,t){return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?g.keys.indexOf(e)<g.keys.indexOf(t):g.keys.indexOf(e)<=g.keys.indexOf(t)};t.isWidthDown=function(e,t){return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?g.keys.indexOf(t)<g.keys.indexOf(e):g.keys.indexOf(t)<=g.keys.indexOf(e)};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.withTheme,i=void 0!==n&&n,y=e.noSSR,b=void 0!==y&&y,O=e.initialWidth,k=e.resizeInterval,E=void 0===k?166:k,j=function(e){function n(e){var t;return(0,a.default)(this,n),(t=(0,u.default)(this,(0,l.default)(n).call(this,e))).state={width:b?t.getWidth():void 0},"undefined"!=typeof window&&(t.handleResize=(0,f.default)(function(){var e=t.getWidth();e!==t.state.width&&t.setState({width:e})},E)),t}return(0,s.default)(n,e),(0,c.default)(n,[{key:"componentDidMount",value:function(){var e=this.getWidth();e!==this.state.width&&this.setState({width:e})}},{key:"componentWillUnmount",value:function(){this.handleResize.clear()}},{key:"getWidth",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth,t=this.props.theme.breakpoints,n=null,i=1;null===n&&i<g.keys.length;){var r=g.keys[i];if(e<t.values[r]){n=g.keys[i-1];break}i+=1}return n=n||"xl"}},{key:"render",value:function(){var e=(0,v.default)({theme:this.props.theme,name:"MuiWithWidth",props:(0,r.default)({},this.props)}),n=e.initialWidth,a=e.theme,c=e.width,u=(0,o.default)(e,["initialWidth","theme","width"]),l=(0,r.default)({width:c||this.state.width||n||O},u);return void 0===l.width?null:(i&&(l.theme=a),p.default.createElement(p.default.Fragment,null,p.default.createElement(t,l),p.default.createElement(d.default,{target:"window",onResize:this.handleResize})))}}]),n}(p.default.Component);return(0,h.default)(j,t),(0,m.default)()(j)}};t.default=y},1465:function(e,t,n){"use strict";var i=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.isHorizontal=k,t.getAnchor=E,t.default=t.styles=void 0;var r=i(n(36)),o=i(n(55)),a=i(n(39)),c=i(n(73)),u=i(n(74)),l=i(n(76)),s=i(n(77)),p=i(n(78)),d=i(n(2)),f=(i(n(31)),i(n(47))),h=i(n(625)),m=i(n(38)),g=i(n(858)),v=i(n(93)),y=n(110),b=n(321),O={left:"right",right:"left",top:"down",bottom:"up"};function k(e){return-1!==["left","right"].indexOf(e.anchor)}function E(e){return"rtl"===e.theme.direction&&k(e)?O[e.anchor]:e.anchor}var j=function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:"none"},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}};t.styles=j;var w=function(e){function t(){var e,n;(0,c.default)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=(0,l.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r)))).mounted=!1,n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"render",value:function(){var e=this.props,t=(e.anchor,e.BackdropProps),n=e.children,i=e.classes,c=e.className,u=e.elevation,l=e.ModalProps,s=(l=void 0===l?{}:l).BackdropProps,p=(0,a.default)(l,["BackdropProps"]),m=e.onClose,b=e.open,k=e.PaperProps,j=e.SlideProps,w=(e.theme,e.transitionDuration),C=e.variant,P=(0,a.default)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","theme","transitionDuration","variant"]),x=E(this.props),D=d.default.createElement(v.default,(0,r.default)({elevation:"temporary"===C?u:0,square:!0,className:(0,f.default)(i.paper,i["paperAnchor".concat((0,y.capitalize)(x))],(0,o.default)({},i["paperAnchorDocked".concat((0,y.capitalize)(x))],"temporary"!==C))},k),n);if("permanent"===C)return d.default.createElement("div",(0,r.default)({className:(0,f.default)(i.root,i.docked,c)},P),D);var S=d.default.createElement(g.default,(0,r.default)({in:b,direction:O[x],timeout:w,appear:this.mounted},j),D);return"persistent"===C?d.default.createElement("div",(0,r.default)({className:(0,f.default)(i.root,i.docked,c)},P),S):d.default.createElement(h.default,(0,r.default)({BackdropProps:(0,r.default)({},t,s,{transitionDuration:w}),className:(0,f.default)(i.root,i.modal,c),open:b,onClose:m},P,p),S)}}]),t}(d.default.Component);w.defaultProps={anchor:"left",elevation:16,open:!1,transitionDuration:{enter:b.duration.enteringScreen,exit:b.duration.leavingScreen},variant:"temporary"};var C=(0,m.default)(j,{name:"MuiDrawer",flip:!1,withTheme:!0})(w);t.default=C},1473:function(e,t,n){"use strict";var i=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(1463))},1474:function(e,t,n){"use strict";var i=n(12);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(1465))},1833:function(e,t,n){"use strict";var i=n(6),r=n.n(i),o=n(10),a=n.n(o),c=n(7),u=n.n(c),l=n(8),s=n.n(l),p=n(11),d=n.n(p),f=n(2),h=n(14),m=n(95),g=n(13),v=n(26),y=n.n(v),b=n(0),O=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":d()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},k=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"onKeyDown",value:function(e){"Enter"===e.key&&!1===e.shiftKey&&(e.preventDefault(),this.props.handleSubmit(this.props.submitHandler)(e))}},{key:"render",value:function(){var e=this.props.fields.removeConfirmationStr;return f.createElement("form",null,f.createElement(y.a,{fullWidth:!0,label:this.props.i18n.t("Подтверждение удаление проекта"),value:e.value,onKeyDown:this.onKeyDown,onChange:e.onChange,error:e.touched&&e.error,helperText:e.touched&&Object(b.toOption)(e.error).map(function(e){return e}).getOrNull()}))}}]),t}(f.Component);k=O([g.autobind],k),t.a=Object(h.connect)(function(e){return{i18n:e.i18n}},function(e){return{}},function(e,t,n){return Object.assign({},e,n)},{withRef:!0})(Object(m.reduxForm)({form:"deleteConfirmationForm",fields:["removeConfirmationStr","id"],validate:function(e,t){var n={};return e.removeConfirmationStr!=="DELETE "+e.id&&(n.removeConfirmationStr=t.i18n.t("Необходимо подтверждение")),n}})(k))},1946:function(e,t,n){"use strict";var i=n(6),r=n.n(i),o=n(10),a=n.n(o),c=n(7),u=n.n(c),l=n(8),s=n.n(l),p=n(11),d=n.n(p),f=n(2),h=n(14),m=n(95),g=n(417),v=n(13),y=n(30),b=n.n(y),O=n(24),k=n.n(O),E=n(34),j=n.n(E),w=n(32),C=n.n(w),P=n(54),x=n.n(P),D=n(26),S=n.n(D),R=n(156),_=n.n(R),I=n(882),T=n.n(I),F=n(82),A=n(0),W=n(1),M=n(109),N=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":d()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},z=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s()(t,e),a()(t,[{key:"componentDidMount",value:function(){this.getImageSrc()}},{key:"getImageSrc",value:function(){var e=this;this.props.fields.imageFileMetaId.value.foreach(function(t){return e.props.authToken.foreach(function(n){e.props.fields.imageFileSrc.onChange(Object(M.b)(n,t,e.props.cdnAddress))})})}},{key:"onEmailTransportChange",value:function(e){this.props.fields.emailTransport.onChange(e.target.value)}},{key:"onPaymentConfigChange",value:function(e){this.props.fields.paymentConfig.onChange(e.target.value)}},{key:"onPaymentCurrencyChanged",value:function(e){this.props.fields.currency.onChange(e.target.value)}},{key:"checkFileType",value:function(e){return 0===e.type.indexOf("image")}},{key:"handleImageElementFilesDrop",value:function(e){var t=this;if(0===e.length)throw"There are not files to process";Object(A.lift)(e,e.length-1).foreach(function(e){t.props.fields.imageFileSrc.onChange(e.preview),t.checkFileType(e)&&t.props.fields.imageFile.onChange(e)})}},{key:"render",value:function(){var e=this.props,t=(e.i18n,e.fields),i=t.name,r=t.paymentConfig,o=t.currency,a=t.orgId,c=t.timeZone,u=e.onSubmit,l=e.handleSubmit;return f.createElement("form",{onSubmit:function(e){e.preventDefault(),l(u)},style:{display:"flex",flexWrap:"wrap"}},f.createElement("input",{type:"submit",style:{display:"none"}}),f.createElement("div",{style:{display:"flex",flexWrap:"nowrap",width:"100%"}},f.createElement(T.a,{id:"tooltip-bottom",title:this.props.i18n.t("Изменить логотип организации"),placement:"bottom"},f.createElement(g,{className:"OrganizationPage__dropzone",onDrop:this.handleImageElementFilesDrop,accept:"image/*",style:{backgroundImage:"url("+(this.props.fields.imageFileSrc.value||n(854))+")",backgroundSize:"cover",backgroundPosition:"center"}})),f.createElement("div",{style:{display:"flex",flex:1,flexDirection:"column"}},f.createElement(S.a,{autoFocus:!0,style:{flex:1,marginTop:0},value:i.value,onChange:i.onChange,label:this.props.i18n.t("Название"),error:i.touched&&i.error,helperText:i.touched&&Object(A.toOption)(i.error).map(function(e){return e}).getOrNull()}),a.value&&!F.default.isA5000&&f.createElement(C.a,{style:{flex:1,marginTop:5}},f.createElement(j.a,null,this.props.i18n.t("Конфигурация платежной системы")),f.createElement(b.a,{value:r.value,fullWidth:!0,onChange:this.onPaymentConfigChange},f.createElement(k.a,{key:"empty",value:"empty"}),f.createElement(x.a,{primary:""}),this.props.paymentConfigs.list.map(function(e,t){return f.createElement(k.a,{key:t,value:e.id.value},f.createElement(x.a,{primary:e.entity.name}))}))),a.value&&!F.default.isA5000&&f.createElement(C.a,{style:{flex:1,marginTop:5}},f.createElement(j.a,null,this.props.i18n.t("Валюта")),f.createElement(b.a,{value:o.value,onChange:this.onPaymentCurrencyChanged,error:o.touched&&o.error},f.createElement(k.a,{value:"AUD"},f.createElement(x.a,{primary:this.props.i18n.t("AUD")})),f.createElement(k.a,{value:"RUB"},f.createElement(x.a,{primary:this.props.i18n.t("RUB")})),f.createElement(k.a,{value:"USD"},f.createElement(x.a,{primary:this.props.i18n.t("USD")}))),Object(A.toOption)(o.error).map(function(e){return f.createElement(_.a,null,e)}).getOrNull()),a.value&&!F.default.isA5000&&f.createElement(C.a,{fullWidth:!0},f.createElement(j.a,null,this.props.i18n.t("Часовой пояс")),f.createElement(b.a,{value:c.value,onChange:function(e){return c.onChange(e.target.value)}},W.TimeZones.map(function(e,t){return f.createElement(k.a,{key:t,value:e.name},e.name)}))))))}}]),t}(f.Component);z=N([v.autobind],z),t.a=Object(h.connect)(function(e){return{i18n:e.i18n,paymentConfigs:e.paymentConfigs,cdnAddress:e.config.cdnAddress}},function(e){return{}},function(e,t,n){return Object.assign({},e,n)},{withRef:!0})(Object(m.reduxForm)({form:"OrganisationEditForm",fields:["name","paymentConfig","currency","orgId","imageFile","imageFileMetaId","imageFileSrc","timeZone"],validate:function(e,t){var n={};return e.name&&0!==e.name.trim().length||(n.name=t.i18n.t("Обязательное значение")),n}})(z))},2228:function(e,t,n){var i=n(2229);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(121)(i,r);i.locals&&(e.exports=i.locals)},2229:function(e,t,n){(e.exports=n(120)(!1)).push([e.i,".organisationsPage-nav {\n  margin-bottom: 20px;\n  background-color: #fff !important;\n  height: 48px !important;\n  width: 100% !important;\n  flex-shrink: 0; }\n",""])},2708:function(e,t,n){"use strict";n.r(t);var i=n(6),r=n.n(i),o=n(10),a=n.n(o),c=n(7),u=n.n(c),l=n(8),s=n.n(l),p=n(11),d=n.n(p),f=n(2),h=n(13),m=n(14),g=n(19),v=n.n(g),y=n(52),b=n.n(y),O=n(25),k=n.n(O),E=n(93),j=n.n(E),w=n(218),C=n.n(w),P=n(1),x=n(414),D=n.n(x),S=n(415),R=n(216),_=n(813),I=n(1946),T=n(1467),F=n(425),A=n(547),W=n(1469),M=n(130),N=n(79),z=n(0),B=n(71),U=(n(2228),n(1461)),H=n(136),L=n(46),q=n(633),K=n(1833),Z=n(82),J=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":d()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},V=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":d()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Y=function(e){function t(e){return r()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,T.a.screenInitialState()))}return s()(t,e),a()(t,[{key:"renderNavigation",value:function(){return f.createElement(_.a,null)}},{key:"openEditForm",value:function(e,t,n){var i=this,r=void 0;this.openDialog(e,f.createElement(I.a,{ref:function(e){return r=Object(z.toOption)(e).flatMap(function(e){return Object(z.toOption)(e.wrappedInstance)})},authToken:this.props.auth.token,initialValues:n,onSubmit:t}),[f.createElement(v.a,{variant:"raised",onClick:function(){return i.handleDialogClose(!0)},style:{marginRight:"10px"}},this.props.i18n.t("Закрыть")),f.createElement(v.a,{variant:"raised",onClick:function(){return r.map(function(e){return e.submit()})},color:"primary"},this.props.i18n.t("Сохранить"))])}},{key:"onCreateRequested",value:function(){var e=this;this.openEditForm(this.props.i18n.t("Новая организация"),function(t){return new Promise(function(n,i){Object(F.b)(new P.Organisation(t.name,e.props.account.id,new P.PaymentService(new P.PaymentTypeFree,new z.None))).then(function(t){n(t),e.props.dispatch(Object(B.h)(e.props.i18n.t("Создание успешно завершено"))),e.handleDialogClose(!1),e.props.dispatch(Object(F.g)()),e.props.dispatch(Object(A.b)())}).catch(function(t){i(t),e.props.dispatch(Object(B.h)(e.props.i18n.t("Создание завершилось ошибкой")))})})},{imageFileMetaId:new z.None})}},{key:"onOrganisationClick",value:function(e){var t=this;Object(z.headOption)(this.props.account.users.filter(function(t){return t.organisationId.value===e.id.value})).foreach(function(n){t.props.dispatch(Object(W.c)(n.id,n.webTerminalId)).then(function(n){t.props.dispatch(Object(M.q)({id:e.id,logo:new z.None})),t.props.dispatch(Object(M.u)(e)),t.props.dispatch(Object(N.p)(n.role.entity))})})}},{key:"onDelete",value:function(e){var t=this,n=this.props.i18n;this.openDeleteForm(n.t("Удаление организации"),function(n){return n.removeConfirmationStr==="DELETE "+e.id.value?Object(F.c)(e.id).then(function(e){t.props.dispatch(Object(B.h)(t.props.i18n.t("Удаление успешно завершено"))),t.handleDialogClose(!1),t.props.dispatch(Object(F.g)())}).catch(function(e){t.props.dispatch(Object(B.h)(t.props.i18n.t("Удаление завершилось ошибкой")))}):new Promise(function(e,t){})},e,{id:e.id.value})}},{key:"openDeleteForm",value:function(e,t,n,i){var r=this,o=this.props.i18n,a=void 0;this.openDialog(e,f.createElement("div",null,f.createElement("p",null,this.props.i18n.t("Данное действие невозможно отменить"),"."),f.createElement("p",null,o.t("ИД проекта")," - ",n.id.value),f.createElement("p",null,o.t("Название проекта")," - ",n.entity.name),f.createElement("p",null,o.t("Введите")," ",f.createElement("strong",null,"DELETE ",n.id.value)," ",o.t('если действительно хотите удалить проект и нажмите "ОК"')),f.createElement(K.a,{ref:function(e){return a=Object(z.toOption)(e).flatMap(function(e){return Object(z.toOption)(e.wrappedInstance)})},initialValues:i,submitHandler:function(e){return t(e)},onSubmit:t})),[f.createElement(v.a,{variant:"raised",onClick:function(){return r.handleDialogClose(!0)},style:{marginRight:"10px"}},this.props.i18n.t("Отмена")),f.createElement(q.a,{type:"submit",variant:"raised",color:"primary",formName:"deleteConfirmationForm",onClick:function(){return a.map(function(e){return e.submit()})}},this.props.i18n.t("ОК"))])}},{key:"render",value:function(){var e=this;return this.renderScreenBody({className:"dashboardPage"},f.createElement("div",null,f.createElement(C.a,{className:"organisationsPage-nav"},f.createElement("div",{style:{flex:1,textAlign:"center"}},f.createElement(b.a,{variant:"title",style:{lineHeight:"48px"}},this.props.i18n.t("Организации")))),f.createElement(j.a,{className:"DefaultPage__paper"},f.createElement(R.b,null,f.createElement(v.a,{variant:"raised",onClick:this.onCreateRequested,color:"primary"},this.props.i18n.t("Создать"))),f.createElement(S.a,{showId:!0,onRecordSelected:this.onOrganisationClick,fetching:this.props.organisations.fetching,error:this.props.organisations.error,empty:!this.props.organisations.fetching&&0===this.props.organisations.list.length,headers:[{id:"organisationName",title:this.props.i18n.t("Название")}],withActions:!0,rows:this.props.organisations.fetching?[]:this.props.organisations.list.map(function(t){return{payload:t,id:t.id.value,fields:[t.entity.name],buttons:[f.createElement(k.a,{key:"edit",style:L.f},f.createElement(D.a,{style:L.g,onClick:function(){return e.onDelete(t)}}))]}})}))))}}]),t}(T.a);Y=J([h.autobind,V("design:paramtypes",[Object])],Y),t.default=Object(m.connect)(function(e){return{organisations:e.organisations,i18n:e.i18n,account:e.account,auth:e.auth}})(Object(U.a)(Object(H.a)(function(e){e.isTokenChecked&&(e.account.id.nonEmpty()&&e.dispatch(Object(F.g)()),Z.default.isSuperAdmin&&e.dispatch(Object(F.g)()))},function(){},function(e,t){e.isTokenChecked&&!t.isTokenChecked&&e.dispatch(Object(F.g)()),!Object(z.isEqual)(e.account.id.map(function(e){return e.value}),t.account.id.map(function(e){return e.value}))&&e.account.id.nonEmpty()&&e.dispatch(Object(F.g)())})(Y)))}}]);